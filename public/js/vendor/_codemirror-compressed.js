window.CodeMirror=function(){"use strict";function a(d,e){function kc(a){f.onDragEvent&&f.onDragEvent(oc,X(a))||$(a)}function nc(a){return a>=0&&Hb.size>a}function pc(a){return R(Hb,a)}function qc(a,b){Yb=!0;for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function rc(a,b){return a.styles||a.highlight(Gb,a.stateAfter=he(S(a)),f.tabSize),a.getContent(f.tabSize,b,f.lineWrapping)}function sc(a){var b={line:0,ch:0};Kc(b,{line:Hb.size-1,ch:pc(Hb.size-1).text.length},Ab(a),b,b),Tb=!0}function tc(a){var b=[];return Hb.iter(0,Hb.size,function(a){b.push(a.text)}),b.join(a||"\n")}function uc(){Math.abs(F.scrollTop-Ob)>1&&(Ob=vb.scrollTop=F.scrollTop,gd([]))}function vc(){f.fixedGutter&&hb.style.left!=vb.scrollLeft+"px"&&(hb.style.left=vb.scrollLeft+"px"),Math.abs(vb.scrollTop-Ob)>1&&(Ob=vb.scrollTop,F.scrollTop!=Ob&&(F.scrollTop=Ob),gd([])),f.onScroll&&f.onScroll(oc)}function wc(a){function h(b){t&&(vb.draggable=!1),Pb=!1,k(),l(),10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&&(Y(b),pd(c.line,c.ch,!0),ad())}function q(a){if("single"==e)return md(rd(c),a),void 0;if(m=rd(m),n=rd(n),"double"==e){var b=wd(a);qb(a,m)?md(b.from,n):md(m,b.to)}else"triple"==e&&(qb(a,m)?md(n,rd({line:a.line,ch:0})):md(m,rd({line:a.line+1,ch:0})))}function r(a){var b=ae(a,!0);if(b&&!pb(b,i)){Jb||Ic(),i=b,q(b),Tb=!1;var c=fd();(b.line>=c.to||b.line<c.from)&&(j=setTimeout(ne(function(){r(a)}),150))}}function s(a){clearTimeout(j);var b=ae(a);b&&q(b),Y(a),ad(),Tb=!0,u(),k()}ld(bb(a,"shiftKey"));for(var b=_(a);b!=yb;b=b.parentNode)if(b.parentNode==lb&&b!=ib)return;for(var b=_(a);b!=yb;b=b.parentNode)if(b.parentNode==gb)return f.onGutterClick&&f.onGutterClick(oc,xb(gb.childNodes,b)+_b,a),Y(a);var c=ae(a);switch(ab(a)){case 3:return o&&ce(a),void 0;case 2:return c&&pd(c.line,c.ch,!0),setTimeout(ad,20),Y(a),void 0}if(!c)return _(a)==vb&&Y(a),void 0;Jb||Ic();var d=+new Date,e="single";if(Nb&&Nb.time>d-400&&pb(Nb.pos,c))e="triple",Y(a),setTimeout(ad,20),xd(c.line);else if(Mb&&Mb.time>d-400&&pb(Mb.pos,c)){e="double",Nb={time:d,pos:c},Y(a);var g=wd(c);md(g.from,g.to)}else Mb={time:d,pos:c};var j,i=c;if(f.dragDrop&&fb&&!f.readOnly&&!pb(Kb.from,Kb.to)&&!qb(c,Kb.from)&&!qb(Kb.to,c)&&"single"==e){t&&(vb.draggable=!0);var k=cb(document,"mouseup",ne(h),!0),l=cb(vb,"drop",ne(h),!0);return Pb=!0,vb.dragDrop&&vb.dragDrop(),void 0}Y(a),"single"==e&&pd(c.line,c.ch,!0);var m=Kb.from,n=Kb.to,u=cb(document,"mousemove",ne(function(a){clearTimeout(j),Y(a),p||ab(a)?r(a):s(a)}),!0),k=cb(document,"mouseup",ne(s),!0)}function xc(a){for(var b=_(a);b!=yb;b=b.parentNode)if(b.parentNode==gb)return Y(a);Y(a)}function yc(a){if(!f.onDragEvent||!f.onDragEvent(oc,X(a))){Y(a);var b=ae(a,!0),c=a.dataTransfer.files;if(b&&!f.readOnly)if(c&&c.length&&window.FileReader&&window.File)for(var d=c.length,e=Array(d),g=0,h=function(a,c){var f=new FileReader;f.onload=function(){e[c]=f.result,++g==d&&(b=rd(b),ne(function(){var a=Sc(e.join(""),b,b);md(b,a)})())},f.readAsText(a)},i=0;d>i;++i)h(c[i],i);else{if(Pb&&!qb(b,Kb.from)&&!qb(Kb.to,b))return;try{var e=a.dataTransfer.getData("Text");e&&oe(function(){var a=Kb.from,c=Kb.to;md(b,b),Pb&&Sc("",a,c),Tc(e),ad()})}catch(a){}}}}function zc(a){var b=Wc();a.dataTransfer.setData("Text",b),a.dataTransfer.setDragImage&&a.dataTransfer.setDragImage(sb("img"),0,0)}function Ac(a,b){if("string"==typeof a&&(a=j[a],!a))return!1;var c=Lb;try{f.readOnly&&(Rb=!0),b&&(Lb=null),a(oc)}catch(d){if(d!=eb)throw d;return!1}finally{Lb=c,Rb=!1}return!0}function Cc(a){function j(){i=!0}var b=l(f.keyMap),d=b.auto;clearTimeout(Bc),d&&!n(a)&&(Bc=setTimeout(function(){l(f.keyMap)==b&&(f.keyMap=d.call?d.call(null,oc):d)},50));var e=Cb[bb(a,"keyCode")],g=!1,h=v&&c;if(null==e||a.altGraphKey)return!1;bb(a,"altKey")&&(e="Alt-"+e),bb(a,h?"metaKey":"ctrlKey")&&(e="Ctrl-"+e),bb(a,h?"ctrlKey":"metaKey")&&(e="Cmd-"+e);var i=!1;return g=bb(a,"shiftKey")?m("Shift-"+e,f.extraKeys,f.keyMap,function(a){return Ac(a,!0)},j)||m(e,f.extraKeys,f.keyMap,function(a){return"string"==typeof a&&/^go[A-Z]/.test(a)?Ac(a):void 0},j):m(e,f.extraKeys,f.keyMap,Ac,j),i&&(g=!1),g&&(Y(a),de(),r&&(a.oldKeyCode=a.keyCode,a.keyCode=0)),g}function Dc(a,b){var c=m("'"+b+"'",f.extraKeys,f.keyMap,function(a){return Ac(a,!0)});return c&&(Y(a),de()),c}function Fc(a){if(Jb||Ic(),p&&27==a.keyCode&&(a.returnValue=!1),gc&&$c()&&(gc=!1),!f.onKeyEvent||!f.onKeyEvent(oc,X(a))){var b=bb(a,"keyCode");ld(16==b||bb(a,"shiftKey"));var d=Cc(a);v&&(Ec=d?b:null,!d&&88==b&&bb(a,c?"metaKey":"ctrlKey")&&Tc(""))}}function Gc(a){if(gc&&$c(),!f.onKeyEvent||!f.onKeyEvent(oc,X(a))){var b=bb(a,"keyCode"),c=bb(a,"charCode");if(v&&b==Ec)return Ec=null,Y(a),void 0;if(!(v&&(!a.which||10>a.which)||x)||!Cc(a)){var d=String.fromCharCode(null==c?b:c);f.electricChars&&Gb.electricChars&&f.smartIndent&&!f.readOnly&&Gb.electricChars.indexOf(d)>-1&&setTimeout(ne(function(){zd(Kb.to.line,"smart")}),75),Dc(a,d)||Yc()}}}function Hc(a){f.onKeyEvent&&f.onKeyEvent(oc,X(a))||16==bb(a,"keyCode")&&(Lb=null)}function Ic(){"nocursor"!=f.readOnly&&(Jb||(f.onFocus&&f.onFocus(oc),Jb=!0,-1==vb.className.search(/\bCodeMirror-focused\b/)&&(vb.className+=" CodeMirror-focused")),Xc(),de())}function Jc(){Jb&&(f.onBlur&&f.onBlur(oc),Jb=!1,cc&&ne(function(){cc&&(cc(),cc=null)})(),vb.className=vb.className.replace(" CodeMirror-focused","")),clearInterval(Fb),setTimeout(function(){Jb||(Lb=null)},150)}function Kc(a,b,c,d,e){if(!Rb){var g=[];if(Hb.iter(a.line,b.line+1,function(a){g.push(K(a.text,a.markedSpans))}),ic)for(ic.addChange(a.line,c.length,g);ic.done.length>f.undoDepth;)ic.done.shift();var h=H(J(g[0]),J(nb(g)),a.ch,b.ch,c);Oc(a,b,h,d,e)}}function Lc(a,b){if(a.length){for(var c=a.pop(),d=[],e=c.length-1;e>=0;e-=1){var f=c[e],g=[],h=f.start+f.added;Hb.iter(f.start,h,function(a){g.push(K(a.text,a.markedSpans))}),d.push({start:f.start,added:f.old.length,old:g});var i={line:f.start+f.old.length-1,ch:wb(I(nb(g)),I(nb(f.old)))};Oc({line:f.start,ch:0},{line:h-1,ch:pc(h-1).text.length},f.old,i,i)}Tb=!0,b.push(d)}}function Mc(){Lc(ic.done,ic.undone)}function Nc(){Lc(ic.undone,ic.done)}function Oc(a,b,c,d,e){function u(a){return Math.min(b.line,b.line+r)>=a?a:a+r}if(!Rb){var g=!1,h=dc.text.length;f.lineWrapping||Hb.iter(a.line,b.line+1,function(a){return a.hidden||a.text.length!=h?void 0:(g=!0,!0)}),(a.line!=b.line||c.length>1)&&(Yb=!0);var i=b.line-a.line,j=pc(a.line),k=pc(b.line),l=nb(c);if(0==a.ch&&0==b.ch&&""==I(l)){for(var m=[],o=0,p=c.length-1;p>o;++o)m.push(new O(I(c[o]),J(c[o])));k.update(k.text,J(l)),i&&Hb.remove(a.line,i,Zb),m.length&&Hb.insert(a.line,m)}else if(j==k)if(1==c.length)j.update(j.text.slice(0,a.ch)+I(c[0])+j.text.slice(b.ch),J(c[0]));else{for(var m=[],o=1,p=c.length-1;p>o;++o)m.push(new O(I(c[o]),J(c[o])));m.push(new O(I(l)+j.text.slice(b.ch),J(l))),j.update(j.text.slice(0,a.ch)+I(c[0]),J(c[0])),Hb.insert(a.line+1,m)}else if(1==c.length)j.update(j.text.slice(0,a.ch)+I(c[0])+k.text.slice(b.ch),J(c[0])),Hb.remove(a.line+1,i,Zb);else{var m=[];j.update(j.text.slice(0,a.ch)+I(c[0]),J(c[0])),k.update(I(l)+k.text.slice(b.ch),J(l));for(var o=1,p=c.length-1;p>o;++o)m.push(new O(I(c[o]),J(c[o])));i>1&&Hb.remove(a.line+1,i-1,Zb),Hb.insert(a.line+1,m)}if(f.lineWrapping){var q=Math.max(5,vb.clientWidth/Zd()-3);Hb.iter(a.line,a.line+c.length,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/q)||1;b!=a.height&&qc(a,b)}})}else Hb.iter(a.line,a.line+c.length,function(a){var b=a.text;!a.hidden&&b.length>h&&(dc=a,h=b.length,fc=!0,g=!1)}),g&&(ec=!0);Ib=Math.min(Ib,a.line),je(400);var r=c.length-i-1;if(Vb.push({from:a.line,to:b.line+1,diff:r}),f.onChange){for(var o=0;c.length>o;++o)"string"!=typeof c[o]&&(c[o]=c[o].text);var s={from:a,to:b,text:c};if(Wb){for(var t=Wb;t.next;t=t.next);t.next=s}else Wb=s}nd(rd(d),rd(e),u(Kb.from.line),u(Kb.to.line))}}function Pc(){var a=Hb.height*Wd()+2*$d();return.99*a>vb.offsetHeight?a:!1}function Qc(a){var b=Pc();F.style.display=b?"block":"none",b?(C.style.height=lb.style.minHeight=b+"px",F.style.height=vb.clientHeight+"px",null!=a&&(F.scrollTop=vb.scrollTop=a,t&&setTimeout(function(){F.scrollTop==a&&(F.scrollTop=a+(a?-1:1),F.scrollTop=a)},0))):lb.style.minHeight="",ib.style.top=$b*Wd()+"px"}function Rc(){dc=pc(0),fc=!0;var a=dc.text.length;Hb.iter(1,Hb.size,function(b){var c=b.text;!b.hidden&&c.length>a&&(a=c.length,dc=b)}),ec=!1}function Sc(a,b,c){function d(d){if(qb(d,b))return d;if(!qb(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,g=d.ch;return d.line==c.line&&(g+=nb(a).length-(c.ch-(c.line==b.line?b.ch:0))),{line:f,ch:g}}b=rd(b),c=c?rd(c):b,a=Ab(a);var e;return Uc(a,b,c,function(a){return e=a,{from:d(Kb.from),to:d(Kb.to)}}),e}function Tc(a,b){Uc(Ab(a),Kb.from,Kb.to,function(a){return"end"==b?{from:a,to:a}:"start"==b?{from:Kb.from,to:Kb.from}:{from:Kb.from,to:a}})}function Uc(a,b,c,d){var e=1==a.length?a[0].length+b.ch:nb(a).length,f=d({line:b.line+a.length-1,ch:e});Kc(b,c,a,f.from,f.to)}function Vc(a,b,c){var d=a.line,e=b.line;if(d==e)return pc(d).text.slice(a.ch,b.ch);var f=[pc(d).text.slice(a.ch)];return Hb.iter(d+1,e,function(a){f.push(a.text)}),f.push(pc(e).text.slice(0,b.ch)),f.join(c||"\n")}function Wc(a){return Vc(Kb.from,Kb.to,a)}function Xc(){gc||Db.set(f.pollInterval,function(){$c(),Jb&&Xc()})}function Yc(){function b(){var c=$c();c||a?(gc=!1,Xc()):(a=!0,Db.set(60,b))}var a=!1;gc=!0,Db.set(20,b)}function $c(){if(!Jb||Bb(w)||f.readOnly)return!1;var a=w.value;if(a==Zc)return!1;me||ke(),Lb=null;for(var b=0,c=Math.min(Zc.length,a.length);c>b&&Zc[b]==a[b];)++b;return Zc.length>b?Kb.from={line:Kb.from.line,ch:Kb.from.ch-(Zc.length-b)}:Qb&&pb(Kb.from,Kb.to)&&!Sb&&(Kb.to={line:Kb.to.line,ch:Math.min(pc(Kb.to.line).text.length,Kb.to.ch+(a.length-b))}),Tc(a.slice(b),"end"),a.length>1e3?w.value=Zc="":Zc=a,me||le(),Sb=!1,!0}function _c(a){pb(Kb.from,Kb.to)?a&&(Zc=w.value=""):(Zc="",w.value=Wc(),Jb&&ob(w))}function ad(){"nocursor"==f.readOnly||!r&&document.activeElement==w||w.focus()}function bd(){var a=cd();if(dd(a.x,a.y,a.x,a.yBot),Jb){var b=lb.getBoundingClientRect(),c=null;if(0>a.y+b.top?c=!0:a.y+b.top+Wd()>(window.innerHeight||document.documentElement.clientHeight)&&(c=!1),null!=c){var d="none"==M.style.display;d&&(M.style.display="",M.style.left=a.x+"px",M.style.top=a.y-$b+"px"),M.scrollIntoView(c),d&&(M.style.display="none")}}}function cd(){var a=Qd(Kb.inverted?Kb.from:Kb.to),b=f.lineWrapping?Math.min(a.x,Z.offsetWidth):a.x;return{x:b,y:a.y,yBot:a.yBot}}function dd(a,b,c,d){var e=ed(a,b,c,d);null!=e.scrollLeft&&(vb.scrollLeft=e.scrollLeft),null!=e.scrollTop&&(F.scrollTop=vb.scrollTop=e.scrollTop)}function ed(a,b,c,d){var e=_d(),g=$d();b+=g,d+=g,a+=e,c+=e;var h=vb.clientHeight,i=F.scrollTop,j={},k=Pc()||1/0,l=g+10>b,m=d+g>k-10;i>b?j.scrollTop=l?0:Math.max(0,b):d>i+h&&(j.scrollTop=(m?k:d)-h);var n=vb.clientWidth,o=vb.scrollLeft,p=f.fixedGutter?hb.clientWidth:0,q=p+e+10>a;return o+p>a||q?(q&&(a=0),j.scrollLeft=Math.max(0,a-10-p)):c>n+o-3&&(j.scrollLeft=c+10-n),j}function fd(a){var b=Wd(),c=(null!=a?a:F.scrollTop)-$d(),d=Math.max(0,Math.floor(c/b)),e=Math.ceil((c+vb.clientHeight)/b);return{from:T(Hb,d),to:T(Hb,e)}}function gd(a,b,c){function o(){var a=G.firstChild,b=!1;return Hb.iter(_b,ac,function(c){if(a){if(!c.hidden){var d=Math.round(a.offsetHeight/l)||1;c.height!=d&&(qc(c,d),Yb=b=!0)}a=a.nextSibling}}),b}if(!vb.clientWidth)return _b=ac=$b=0,void 0;var d=fd(c);if(a!==!0&&0==a.length&&d.from>_b&&ac>d.to)return Qc(c),void 0;var e=Math.max(d.from-100,0),g=Math.min(Hb.size,d.to+100);e>_b&&20>e-_b&&(e=_b),ac>g&&20>ac-g&&(g=Math.min(Hb.size,ac));for(var h=a===!0?[]:hd([{from:_b,to:ac,domStart:0}],a),i=0,j=0;h.length>j;++j){var k=h[j];e>k.from&&(k.domStart+=e-k.from,k.from=e),k.to>g&&(k.to=g),k.from>=k.to?h.splice(j--,1):i+=k.to-k.from}if(i==g-e&&e==_b&&g==ac)return Qc(c),void 0;h.sort(function(a,b){return a.domStart-b.domStart});var l=Wd(),m=hb.style.display;G.style.display="none",id(e,g,h),G.style.display=hb.style.display="";var n=e!=_b||g!=ac||bc!=vb.clientHeight+l;if(n&&(bc=vb.clientHeight+l),(e!=_b||g!=ac&&f.onViewportChange)&&setTimeout(function(){f.onViewportChange&&f.onViewportChange(oc,e,g)}),_b=e,ac=g,$b=U(Hb,e),je(100),G.childNodes.length!=ac-_b)throw Error("BAD PATCH! "+JSON.stringify(h)+" size="+(ac-_b)+" nodes="+G.childNodes.length);return f.lineWrapping&&o(),hb.style.display=m,(n||Yb)&&jd()&&f.lineWrapping&&o()&&jd(),Qc(c),kd(),!b&&f.onUpdate&&f.onUpdate(oc),!0}function hd(a,b){for(var c=0,d=b.length||0;d>c;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,i=a.length;i>h;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g,domStart:j.domStart}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from,domStart:j.domStart}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g,domStart:j.domStart+(e.to-j.from)}))}a=f}return a}function id(a,b,c){function d(a){var b=a.nextSibling;return a.parentNode.removeChild(a),b}if(c.length){for(var e=0,f=G.firstChild,h=0;c.length>h;++h){for(var i=c[h];i.domStart>e;)f=d(f),e++;for(var j=0,k=i.to-i.from;k>j;++j)f=f.nextSibling,e++}for(;f;)f=d(f)}else tb(G);var l=c.shift(),f=G.firstChild,j=a;Hb.iter(a,b,function(a){if(l&&l.to==j&&(l=c.shift()),!l||l.from>j){if(a.hidden)var b=sb("pre");else{var b=rc(a);if(a.className&&(b.className=a.className),a.bgClassName){var d=sb("pre","\u00a0",a.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");b=sb("div",[d,b],null,"position: relative")}}G.insertBefore(b,f)}else f=f.nextSibling;++j})}function jd(){if(f.gutter||f.lineNumbers){var a=ib.offsetHeight,b=vb.clientHeight;hb.style.height=(2>a-b?b:a)+"px";var e,c=document.createDocumentFragment(),d=_b;if(Hb.iter(_b,Math.max(ac,_b+1),function(a){if(a.hidden)c.appendChild(sb("pre"));else{var b=a.gutterMarker,g=f.lineNumbers?f.lineNumberFormatter(d+f.firstLineNumber):null;b&&b.text?g=b.text.replace("%N%",null!=g?g:""):null==g&&(g="\u00a0");var h=c.appendChild(sb("pre",null,b&&b.style));h.innerHTML=g;for(var i=1;a.height>i;++i)h.appendChild(sb("br")),h.appendChild(document.createTextNode("\u00a0"));b||(e=d)}++d}),hb.style.display="none",ub(gb,c),null!=e&&f.lineNumbers){for(var g=gb.childNodes[e-_b],h=(Hb.size+"").length,i=kb(g.firstChild),j="";h>i.length+j.length;)j+="\u00a0";j&&g.insertBefore(document.createTextNode(j),g.firstChild)}hb.style.display="";var k=Math.abs((parseInt(Z.style.marginLeft)||0)-hb.offsetWidth)>2;return Z.style.marginLeft=hb.offsetWidth+"px",Yb=!1,k}}function kd(){var a=pb(Kb.from,Kb.to),b=Qd(Kb.from,!0),c=a?b:Qd(Kb.to,!0),d=Kb.inverted?b:c,e=Wd(),g=jb(yb),h=jb(G);if(B.style.top=Math.max(0,Math.min(vb.offsetHeight,d.y+h.top-g.top))+"px",B.style.left=Math.max(0,Math.min(vb.offsetWidth,d.x+h.left-g.left))+"px",a||f.showCursorWhenSelecting?(M.style.top=d.y+"px",M.style.left=(f.lineWrapping?Math.min(d.x,Z.offsetWidth):d.x)+"px",M.style.display=""):M.style.display="none",a)L.style.display="none";else{var i=b.y==c.y,j=document.createDocumentFragment(),k=Z.clientWidth||Z.offsetWidth,l=Z.clientHeight||Z.offsetHeight,m=function(a,b,c,d){var e=s?"width: "+(c?k-c-a:k)+"px":"right: "+(c-1)+"px";j.appendChild(sb("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; "+e+"; height: "+d+"px"))};if(Kb.from.ch&&b.y>=0){var n=i?k-c.x:0;m(b.x,b.y,n,e)}var o=Math.max(0,b.y+(Kb.from.ch?e:0)),p=Math.min(c.y,l)-o;p>.2*e&&m(0,o,0,p),i&&Kb.from.ch||!(l-.5*e>c.y)||m(0,c.y,k-c.x,e),ub(L,j),L.style.display=""}}function ld(a){Lb=a?Lb||(Kb.inverted?Kb.to:Kb.from):null}function md(a,b){var c=Lb&&rd(Lb);c&&(qb(c,a)?a=c:qb(b,c)&&(b=c)),nd(a,b),Ub=!0}function nd(a,b,c,d){if(hc=null,null==c&&(c=Kb.from.line,d=Kb.to.line),!pb(Kb.from,a)||!pb(Kb.to,b)){if(qb(b,a)){var e=b;b=a,a=e}if(a.line!=c){var g=od(a,c,Kb.from.ch);g?a=g:Nd(a.line,!1)}if(b.line!=d&&(b=od(b,d,Kb.to.ch)),pb(a,b)?Kb.inverted=!1:pb(a,Kb.to)?Kb.inverted=!1:pb(b,Kb.from)&&(Kb.inverted=!0),f.autoClearEmptyLines&&pb(Kb.from,Kb.to)){var h=Kb.inverted?a:b;if(h.line!=Kb.from.line&&Kb.from.line<Hb.size){var i=pc(Kb.from.line);/^\s+$/.test(i.text)&&setTimeout(ne(function(){if(i.parent&&/^\s+$/.test(i.text)){var a=S(i);Sc("",{line:a,ch:0},{line:a,ch:i.text.length})}},10))}}Kb.from=a,Kb.to=b,Xb=!0}}function od(a,b,c){function d(b){for(var d=a.line+b,e=1==b?Hb.size:-1;d!=e;){var g=pc(d);if(!g.hidden){var h=a.ch;return(f||h>c||h>g.text.length)&&(h=g.text.length),{line:d,ch:h}}d+=b}}var e=pc(a.line),f=a.ch==e.text.length&&a.ch!=c;return e.hidden?a.line>=b?d(1)||d(-1):d(-1)||d(1):a}function pd(a,b,c){var d=rd({line:a,ch:b||0});(c?md:nd)(d,d)}function qd(a){return Math.max(0,Math.min(a,Hb.size-1))}function rd(a){if(0>a.line)return{line:0,ch:0};if(a.line>=Hb.size)return{line:Hb.size-1,ch:pc(Hb.size-1).text.length};var b=a.ch,c=pc(a.line).text.length;return null==b||b>c?{line:a.line,ch:c}:0>b?{line:a.line,ch:0}:a}function sd(a,b){function g(){for(var b=d+a,c=0>a?-1:Hb.size;b!=c;b+=a){var e=pc(b);if(!e.hidden)return d=b,f=e,!0}}function h(b){if(e==(0>a?0:f.text.length)){if(b||!g())return!1;e=0>a?f.text.length:0}else e+=a;return!0}var c=Kb.inverted?Kb.from:Kb.to,d=c.line,e=c.ch,f=pc(d);if("char"==b)h();else if("column"==b)h(!0);else if("word"==b)for(var i=!1;!(0>a)||h();){if(zb(f.text.charAt(e)))i=!0;else if(i){0>a&&(a=1,h());break}if(a>0&&!h())break}return{line:d,ch:e}}function td(a,b){var c=0>a?Kb.from:Kb.to;(Lb||pb(Kb.from,Kb.to))&&(c=sd(a,b)),pd(c.line,c.ch,!0)}function ud(a,b){pb(Kb.from,Kb.to)?0>a?Sc("",sd(a,b),Kb.to):Sc("",Kb.from,sd(a,b)):Sc("",Kb.from,Kb.to),Ub=!0}function vd(a,b){var d=Qd(Kb.inverted?Kb.from:Kb.to,!0);if(null!=hc&&(d.x=hc),"page"==b)var e=Math.min(vb.clientHeight,window.innerHeight||document.documentElement.clientHeight),f=Rd(d.x,d.y+e*a);else if("line"==b)var g=Wd(),f=Rd(d.x,d.y+.5*g+a*g);"page"==b&&(F.scrollTop+=Qd(f,!0).y-d.y),pd(f.line,f.ch,!0),hc=d.x}function wd(a){var b=pc(a.line).text,c=a.ch,d=a.ch;if(b){a.after===!1||d==b.length?--c:++d;for(var e=b.charAt(c),f=zb(e)?zb:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&zb(a)};c>0&&f(b.charAt(c-1));)--c;for(;b.length>d&&f(b.charAt(d));)++d}return{from:{line:a.line,ch:c},to:{line:a.line,ch:d}}}function xd(a){md({line:a,ch:0},rd({line:a+1,ch:0}))}function yd(a){if(pb(Kb.from,Kb.to))return zd(Kb.from.line,a);for(var b=Kb.to.line-(Kb.to.ch?0:1),c=Kb.from.line;b>=c;++c)zd(c,a)}function zd(a,b){if(b||(b="add"),"smart"==b)if(Gb.indent)var c=he(a);else b="prev";var h,d=pc(a),e=d.indentation(f.tabSize),g=d.text.match(/^\s*/)[0];"smart"==b&&(h=Gb.indent(c,d.text.slice(g.length),d.text),h==eb&&(b="prev")),"prev"==b?h=a?pc(a-1).indentation(f.tabSize):0:"add"==b?h=e+f.indentUnit:"subtract"==b&&(h=e-f.indentUnit),h=Math.max(0,h);var j="",k=0;if(f.indentWithTabs)for(var l=Math.floor(h/f.tabSize);l;--l)k+=f.tabSize,j+="	";h>k&&(j+=mb(h-k)),j!=g&&Sc(j,{line:a,ch:0},{line:a,ch:g.length}),d.stateAfter=null}function Ad(){Gb=a.getMode(f,f.mode),Hb.iter(0,Hb.size,function(a){a.stateAfter=null}),Ib=0,je(100)}function Bd(){var a=f.gutter||f.lineNumbers;hb.style.display=a?"":"none",a?Yb=!0:G.parentNode.style.marginLeft=0}function Cd(){if(f.lineWrapping){yb.className+=" CodeMirror-wrap";var c=vb.clientWidth/Zd()-3;Hb.iter(0,Hb.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/c)||1;1!=b&&qc(a,b)}}),Z.style.minWidth=N.style.left=""}else yb.className=yb.className.replace(" CodeMirror-wrap",""),Rc(),Hb.iter(0,Hb.size,function(a){1==a.height||a.hidden||qc(a,1)});Vb.push({from:0,to:Hb.size})}function Dd(){vb.className=vb.className.replace(/\s*cm-s-\S+/g,"")+f.theme.replace(/(^|\s)\s*/g," cm-s-")}function Ed(){var a=k[f.keyMap].style;yb.className=yb.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function Fd(a,b){this.lines=[],this.type=a,b&&(this.style=b)}function Gd(a,b,c,d){a=rd(a),b=rd(b);var e=new Fd("range",c);if(d)for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);var g=a.line;return Hb.iter(g,b.line+1,function(c){var d={from:g==a.line?a.ch:null,to:g==b.line?b.ch:null,marker:e};c.markedSpans=(c.markedSpans||[]).concat([d]),e.lines.push(c),++g}),Vb.push({from:a.line,to:b.line+1}),e}function Hd(a){a=rd(a);var b=new Fd("bookmark"),c=pc(a.line);ic.addChange(a.line,1,[K(c.text,c.markedSpans)],!0);var d={from:a.ch,to:a.ch,marker:b};return c.markedSpans=(c.markedSpans||[]).concat([d]),b.lines.push(c),b}function Id(a){a=rd(a);var b=[],c=pc(a.line).markedSpans;if(c)for(var d=0;c.length>d;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker)}return b}function Jd(a,b,c){return"number"==typeof a&&(a=pc(qd(a))),a.gutterMarker={text:b,style:c},Yb=!0,a}function Kd(a){"number"==typeof a&&(a=pc(qd(a))),a.gutterMarker=null,Yb=!0}function Ld(a,b){var c=a,d=a;return"number"==typeof a?d=pc(qd(a)):c=S(a),null==c?null:b(d,c)?(Vb.push({from:c,to:c+1}),d):null}function Md(a,b,c){return Ld(a,function(a){return a.className!=b||a.bgClassName!=c?(a.className=b,a.bgClassName=c,!0):void 0})}function Nd(a,b){return Ld(a,function(a,c){if(a.hidden!=b){a.hidden=b,f.lineWrapping||(b&&a.text.length==dc.text.length?ec=!0:!b&&a.text.length>dc.text.length&&(dc=a,ec=!1)),qc(a,b?0:1);var d=Kb.from.line,e=Kb.to.line;if(b&&(d==c||e==c)){var g=d==c?od({line:d,ch:0},d,0):Kb.from,h=e==c?od({line:e,ch:0},e,0):Kb.to;if(!h)return;nd(g,h)}return Yb=!0}})}function Od(a){if("number"==typeof a){if(!nc(a))return null;var b=a;if(a=pc(a),!a)return null}else{var b=S(a);if(null==b)return null}var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className,bgClass:a.bgClassName}}function Pd(a,b){if(0==b)return{top:0,left:0};var c=rc(a,b);ub(W,c);var d=c.anchor,e=d.offsetTop,f=d.offsetLeft;if(p&&0==e&&0==f){var g=sb("span","x");d.parentNode.insertBefore(g,d.nextSibling),e=g.offsetTop}return{top:e,left:f}}function Qd(a,b){var c,d=Wd(),e=d*(U(Hb,a.line)-(b?$b:0));if(0==a.ch)c=0;else{var g=Pd(pc(a.line),a.ch);c=g.left,f.lineWrapping&&(e+=Math.max(0,g.top))}return{x:c,y:e,yBot:e+d}}function Rd(a,b){function m(a){var b=Pd(h,a);if(j){var d=Math.round(b.top/c);return l=d!=k,Math.max(0,b.left+(d-k)*vb.clientWidth)}return b.left}var c=Wd(),d=Zd(),e=$b+Math.floor(b/c);if(0>e)return{line:0,ch:0};var g=T(Hb,e);if(g>=Hb.size)return{line:Hb.size-1,ch:pc(Hb.size-1).text.length};var h=pc(g),i=h.text,j=f.lineWrapping,k=j?e-U(Hb,g):0;if(0>=a&&0==k)return{line:g,ch:0};for(var q,l=!1,n=0,o=0,p=i.length,r=Math.min(p,Math.ceil((a+.9*k*vb.clientWidth)/d));;){var s=m(r);if(!(a>=s&&p>r)){q=s,p=r;break}r=Math.min(p,Math.ceil(1.2*r))}if(a>q)return{line:g,ch:p};for(r=Math.floor(.8*p),s=m(r),a>s&&(n=r,o=s);;){if(1>=p-n){var t=q-a>a-o;return{line:g,ch:t?n:p,after:t}}var u=Math.ceil((n+p)/2),v=m(u);v>a?(p=u,q=v,l&&(q+=1e3)):(n=u,o=v)}}function Sd(a){var b=Qd(a,!0),c=jb(Z);return{x:c.left+b.x,y:c.top+b.y,yBot:c.top+b.yBot}}function Wd(){if(null==Vd){Vd=sb("pre");for(var a=0;49>a;++a)Vd.appendChild(document.createTextNode("x")),Vd.appendChild(sb("br"));Vd.appendChild(document.createTextNode("x"))}var b=G.clientHeight;return b==Ud?Td:(Ud=b,ub(W,Vd.cloneNode(!0)),Td=W.firstChild.offsetHeight/50||1,tb(W),Td)}function Zd(){if(vb.clientWidth==Yd)return Xd;Yd=vb.clientWidth;var a=sb("span","x"),b=sb("pre",[a]);return ub(W,b),Xd=a.offsetWidth||10}function $d(){return Z.offsetTop}function _d(){return Z.offsetLeft}function ae(a,b){var d,e,c=jb(vb,!0);try{d=a.clientX,e=a.clientY}catch(a){return null}if(!b&&(d-c.left>vb.clientWidth||e-c.top>vb.clientHeight))return null;var f=jb(Z,!0);return Rd(d-f.left,e-f.top)}function ce(a){function e(){if(B.style.position="relative",w.style.cssText=d,r&&(F.scrollTop=c),Xc(),null!=w.selectionStart){clearTimeout(be);var a=w.value=" "+(pb(Kb.from,Kb.to)?"":w.value),b=0;Zc=" ",w.selectionStart=1,w.selectionEnd=a.length,be=setTimeout(function e(){" "==Zc&&0==w.selectionStart?ne(j.selectAll)(oc):10>b++?be=setTimeout(e,500):_c()},200)}}var b=ae(a),c=F.scrollTop;if(b&&!v){(pb(Kb.from,Kb.to)||qb(b,Kb.from)||!qb(b,Kb.to))&&ne(pd)(b.line,b.ch);var d=w.style.cssText;if(B.style.position="absolute",w.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ad(),_c(!0),pb(Kb.from,Kb.to)&&(w.value=Zc=" "),o){$(a);var f=cb(window,"mouseup",function(){f(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function de(){clearInterval(Fb);var a=!0;M.style.visibility="",Fb=setInterval(function(){M.style.visibility=(a=!a)?"":"hidden"},f.cursorBlinkRate)}function fe(a){function p(a,b,c){if(a.text)for(var f,d=a.styles,e=g?0:a.text.length-1,i=g?0:d.length-2,j=g?d.length:-2;i!=j;i+=2*h){var k=d[i];if(d[i+1]==m){for(var l=g?0:k.length-1,p=g?k.length:-1;l!=p;l+=h,e+=h)if(e>=b&&c>e&&o.test(f=k.charAt(l))){var q=ee[f];if(">"==q.charAt(1)==g)n.push(f);else{if(n.pop()!=q.charAt(0))return{pos:e,match:!1};if(!n.length)return{pos:e,match:!0}}}}else e+=h*k.length}}var b=Kb.inverted?Kb.from:Kb.to,c=pc(b.line),d=b.ch-1,e=d>=0&&ee[c.text.charAt(d)]||ee[c.text.charAt(++d)];if(e){for(var g=(e.charAt(0),">"==e.charAt(1)),h=g?1:-1,i=c.styles,j=d+1,k=0,l=i.length;l>k;k+=2)if(0>=(j-=i[k].length)){var m=i[k+1];break}for(var n=[c.text.charAt(d)],o=/[(){}[\]]/,k=b.line,l=g?Math.min(k+100,Hb.size):Math.max(-1,k-100);k!=l;k+=h){var c=pc(k),q=k==b.line,r=p(c,q&&g?d+1:0,q&&!g?d:c.text.length);if(r)break}r||(r={pos:null,match:!1});var m=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=Gd({line:b.line,ch:d},{line:b.line,ch:d+1},m),t=null!=r.pos&&Gd({line:k,ch:r.pos},{line:k,ch:r.pos+1},m),u=ne(function(){s.clear(),t&&t.clear()});a?setTimeout(u,800):cc=u}}function ge(a){for(var b,c,d=a,e=a-40;d>e;--d){if(0==d)return 0;var g=pc(d-1);if(g.stateAfter)return d;var h=g.indentation(f.tabSize);(null==c||b>h)&&(c=d-1,b=h)}return c}function he(a){var b=ge(a),c=b&&pc(b-1).stateAfter;return c=c?z(Gb,c):A(Gb),Hb.iter(b,a,function(d){d.process(Gb,c,f.tabSize),d.stateAfter=b==a-1||0==b%5?z(Gb,c):null}),c}function ie(){if(!(Ib>=ac)){var a=+new Date+f.workTime,b=z(Gb,he(Ib)),c=Ib;Hb.iter(Ib,ac,function(c){return Ib>=_b?(c.highlight(Gb,b,f.tabSize),c.stateAfter=z(Gb,b)):(c.process(Gb,b,f.tabSize),c.stateAfter=0==Ib%5?z(Gb,b):null),++Ib,+new Date>a?(je(f.workDelay),!0):void 0}),ac>c&&Ib>=_b&&ne(function(){Vb.push({from:c,to:Ib})})()}}function je(a){ac>Ib&&Eb.set(a,ie)}function ke(){Tb=Ub=Wb=null,Vb=[],Xb=!1,Zb=[]}function le(){if(ec&&Rc(),fc&&!f.lineWrapping){var a=N.offsetWidth,b=Pd(dc,dc.text.length).left;q||(N.style.left=b+"px",Z.style.minWidth=b+a+"px"),fc=!1}var c,d;if(Xb){var e=cd();c=ed(e.x,e.y,e.x,e.yBot)}(Vb.length||c&&null!=c.scrollTop)&&(d=gd(Vb,!0,c&&c.scrollTop)),d||(Xb&&kd(),Yb&&jd()),c&&bd(),Xb&&de(),Jb&&(Tb===!0||Tb!==!1&&Xb)&&_c(Ub),Xb&&f.matchBrackets&&setTimeout(ne(function(){cc&&(cc(),cc=null),pb(Kb.from,Kb.to)&&fe(!1)}),20);var g=Xb,h=Zb;Wb&&f.onChange&&oc&&f.onChange(oc,Wb),g&&f.onCursorActivity&&f.onCursorActivity(oc);for(var i=0;h.length>i;++i)h[i](oc);d&&f.onUpdate&&f.onUpdate(oc)}function ne(a){return function(){me++||ke();try{var b=a.apply(this,arguments)}finally{--me||le()}return b}}function oe(a){ic.startCompound();try{return a()}finally{ic.endCompound()}}var f={},i=a.defaults;for(var u in i)i.hasOwnProperty(u)&&(f[u]=(e&&e.hasOwnProperty(u)?e:i)[u]);var w=sb("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");w.setAttribute("wrap","off"),w.setAttribute("autocorrect","off"),w.setAttribute("autocapitalize","off");var B=sb("div",[w],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),C=sb("div",null,"CodeMirror-scrollbar-inner"),F=sb("div",[C],"CodeMirror-scrollbar"),G=sb("div"),L=sb("div",null,null,"position: relative; z-index: -1"),M=sb("pre","\u00a0","CodeMirror-cursor"),N=sb("pre","\u00a0","CodeMirror-cursor","visibility: hidden"),W=sb("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),Z=sb("div",[W,M,N,L,G],null,"position: relative; z-index: 0"),gb=sb("div",null,"CodeMirror-gutter-text"),hb=sb("div",[gb],"CodeMirror-gutter"),ib=sb("div",[hb,sb("div",[Z],"CodeMirror-lines")],null,"position: relative"),lb=sb("div",[ib],null,"position: relative"),vb=sb("div",[lb],"CodeMirror-scroll");vb.setAttribute("tabIndex","-1");var yb=sb("div",[B,F,vb],"CodeMirror"+(f.lineWrapping?" CodeMirror-wrap":""));d.appendChild?d.appendChild(yb):d(yb),Dd(),Ed(),b&&(w.style.width="0px"),t||(vb.draggable=!0),Z.style.outline="none",null!=f.tabindex&&(w.tabIndex=f.tabindex),f.autofocus&&ad(),f.gutter||f.lineNumbers||(hb.style.display="none"),x&&(B.style.height="1px",B.style.position="absolute"),y?(F.style.zIndex=-2,F.style.visibility="hidden"):q&&(F.style.minWidth="18px");var Fb,Gb,Jb,Db=new db,Eb=new db,Hb=new Q([new P([new O("")])]),Ib=0;Ad();var Lb,Mb,Nb,Pb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,cc,Kb={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Ob=0,Qb=!1,Rb=!1,Sb=!1,$b=0,_b=0,ac=0,bc=0,dc=pc(0),ec=!1,fc=!0,gc=!1,hc=null;ne(function(){sc(f.value||""),Tb=!1})();var ic=new V;cb(vb,"mousedown",ne(wc)),cb(vb,"dblclick",ne(xc)),cb(Z,"selectstart",Y),o||cb(vb,"contextmenu",ce),cb(vb,"scroll",vc),cb(F,"scroll",uc),cb(F,"mousedown",function(){Jb&&setTimeout(ad,0)});var jc=cb(window,"resize",function(){yb.parentNode?gd(!0):jc()},!0);cb(w,"keyup",ne(Hc)),cb(w,"input",Yc),cb(w,"keydown",ne(Fc)),cb(w,"keypress",ne(Gc)),cb(w,"focus",Ic),cb(w,"blur",Jc),f.dragDrop&&(cb(vb,"dragstart",zc),cb(vb,"dragenter",kc),cb(vb,"dragover",kc),cb(vb,"drop",ne(yc))),cb(vb,"paste",function(){ad(),Yc()}),cb(w,"paste",function(){Sb=!0,Yc()}),cb(w,"cut",ne(function(){f.readOnly||Tc("")})),x&&cb(lb,"mouseup",function(){document.activeElement==w&&w.blur(),ad()});var lc;try{lc=document.activeElement==w}catch(mc){}lc||f.autofocus?setTimeout(Ic,20):Jc();var Bc,oc=yb.CodeMirror={getValue:tc,setValue:ne(sc),getSelection:Wc,replaceSelection:ne(Tc),focus:function(){window.focus(),ad(),Ic(),Yc()},setOption:function(a,b){var c=f[a];f[a]=b,"mode"==a||"indentUnit"==a?Ad():"readOnly"==a&&"nocursor"==b?(Jc(),w.blur()):"readOnly"!=a||b?"theme"==a?Dd():"lineWrapping"==a&&c!=b?ne(Cd)():"tabSize"==a?gd(!0):"keyMap"==a?Ed():"tabindex"==a?w.tabIndex=b:"showCursorWhenSelecting"==a&&kd():_c(!0),("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a||"lineNumberFormatter"==a)&&(Bd(),gd(!0))},getOption:function(a){return f[a]},getMode:function(){return Gb},undo:ne(Mc),redo:ne(Nc),indentLine:ne(function(a,b){"string"!=typeof b&&(b=null==b?f.smartIndent?"smart":"prev":b?"add":"subtract"),nc(a)&&zd(a,b)}),indentSelection:ne(yd),historySize:function(){return{undo:ic.done.length,redo:ic.undone.length}},clearHistory:function(){ic=new V},setHistory:function(a){ic=new V,ic.done=a.done,ic.undone=a.undone},getHistory:function(){function a(a){for(var d,b=0,c=[];a.length>b;++b){c.push(d=[]);for(var e=0,f=a[b];f.length>e;++e){var g=[],h=f[e];d.push({start:h.start,added:h.added,old:g});for(var i=0;h.old.length>i;++i)g.push(I(h.old[i]))}}return c}return{done:a(ic.done),undone:a(ic.undone)}},matchBrackets:ne(function(){fe(!0)}),getTokenAt:ne(function(a){return a=rd(a),pc(a.line).getTokenAt(Gb,he(a.line),f.tabSize,a.ch)}),getStateAfter:function(a){return a=qd(null==a?Hb.size-1:a),he(a+1)},cursorCoords:function(a,b){return null==a&&(a=Kb.inverted),this.charCoords(a?Kb.from:Kb.to,b)},charCoords:function(a,b){return a=rd(a),"local"==b?Qd(a,!1):"div"==b?Qd(a,!0):Sd(a)},coordsChar:function(a){var b=jb(Z);return Rd(a.x-b.left,a.y-b.top)},defaultTextHeight:function(){return Wd()},markText:ne(Gd),setBookmark:Hd,findMarksAt:Id,setMarker:ne(Jd),clearMarker:ne(Kd),setLineClass:ne(Md),hideLine:ne(function(a){return Nd(a,!0)}),showLine:ne(function(a){return Nd(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!nc(a))return null;a=pc(a)}return(a.handlers||(a.handlers=[])).push(b),a},lineInfo:Od,getViewport:function(){return{from:_b,to:ac}},addWidget:function(a,b,c,d,e){a=Qd(rd(a));var f=a.yBot,g=a.x;if(b.style.position="absolute",lb.appendChild(b),"over"==d)f=a.y;else if("near"==d){var h=Math.max(vb.offsetHeight,Hb.height*Wd()),i=Math.max(lb.clientWidth,Z.clientWidth)-_d();a.yBot+b.offsetHeight>h&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight),g+b.offsetWidth>i&&(g=i-b.offsetWidth)
}b.style.top=f+$d()+"px",b.style.left=b.style.right="","right"==e?(g=lb.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?g=0:"middle"==e&&(g=(lb.clientWidth-b.offsetWidth)/2),b.style.left=g+_d()+"px"),c&&dd(g,f,g+b.offsetWidth,f+b.offsetHeight)},lineCount:function(){return Hb.size},clipPos:rd,getCursor:function(a){return(null==a||"head"==a)&&(a=Kb.inverted),"anchor"==a&&(a=!Kb.inverted),"end"==a&&(a=!1),rb(a?Kb.from:Kb.to)},somethingSelected:function(){return!pb(Kb.from,Kb.to)},setCursor:ne(function(a,b,c){null==b&&"number"==typeof a.line?pd(a.line,a.ch,c):pd(a,b,c)}),setSelection:ne(function(a,b,c){(c?md:nd)(rd(a),rd(b||a))}),getLine:function(a){return nc(a)?pc(a).text:void 0},getLineHandle:function(a){return nc(a)?pc(a):void 0},setLine:ne(function(a,b){nc(a)&&Sc(b,{line:a,ch:0},{line:a,ch:pc(a).text.length})}),removeLine:ne(function(a){nc(a)&&Sc("",{line:a,ch:0},rd({line:a+1,ch:0}))}),replaceRange:ne(Sc),getRange:function(a,b,c){return Vc(rd(a),rd(b),c)},triggerOnKeyDown:ne(Fc),execCommand:function(a){return j[a](oc)},moveH:ne(td),deleteH:ne(ud),moveV:ne(vd),toggleOverwrite:function(){Qb?(Qb=!1,M.className=M.className.replace(" CodeMirror-overwrite","")):(Qb=!0,M.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var c,b=0;return Hb.iter(0,Hb.size,function(d){var e=d.text.length+1;return e>a?(c=a,!0):(a-=e,++b,void 0)}),rd({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;return Hb.iter(0,a.line,function(a){b+=a.text.length+1}),b},scrollTo:function(a,b){null!=a&&(vb.scrollLeft=a),null!=b&&(F.scrollTop=vb.scrollTop=b),gd([])},getScrollInfo:function(){return{x:vb.scrollLeft,y:F.scrollTop,height:F.scrollHeight,width:vb.scrollWidth}},scrollIntoView:function(a){var b=Qd(a?rd(a):Kb.inverted?Kb.from:Kb.to);dd(b.x,b.y,b.x,b.yBot)},setSize:function(a,b){function c(a){return a+="",/^\d+$/.test(a)?a+"px":a}null!=a&&(yb.style.width=c(a)),null!=b&&(vb.style.height=c(b)),oc.refresh()},operation:function(a){return ne(a)()},compoundChange:function(a){return oe(a)},refresh:function(){gd(!0,null,Ob),F.scrollHeight>Ob&&(F.scrollTop=Ob)},getInputField:function(){return w},getWrapperElement:function(){return yb},getScrollerElement:function(){return vb},getGutterElement:function(){return hb}},Ec=null,Zc="";Fd.prototype.clear=ne(function(){for(var a,b,c=0;this.lines.length>c;++c){var d=this.lines[c],e=D(d.markedSpans,this);null!=e.from&&(a=S(d)),null!=e.to&&(b=S(d)),d.markedSpans=E(d.markedSpans,e)}null!=a&&Vb.push({from:a,to:b+1}),this.lines.length=0,this.explicitlyCleared=!0}),Fd.prototype.find=function(){for(var a,b,c=0;this.lines.length>c;++c){var d=this.lines[c],e=D(d.markedSpans,this);if(null!=e.from||null!=e.to){var f=S(d);null!=e.from&&(a={line:f,ch:e.from}),null!=e.to&&(b={line:f,ch:e.to})}}return"bookmark"==this.type?a:a&&{from:a,to:b}};var Td,Ud,Vd,Xd,be,Yd=0,ee={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},me=0;for(var pe in g)g.propertyIsEnumerable(pe)&&!oc.propertyIsEnumerable(pe)&&(oc[pe]=g[pe]);for(var qe=0;h.length>qe;++qe)h[qe](oc);return oc}function l(a){return"string"==typeof a?k[a]:a}function m(a,b,c,d,e){function f(b){b=l(b);var c=b[a];if(c===!1)return e&&e(),!0;if(null!=c&&d(c))return!0;if(b.nofallthrough)return e&&e(),!0;var g=b.fallthrough;if(null==g)return!1;if("[object Array]"!=Object.prototype.toString.call(g))return f(g);for(var h=0,i=g.length;i>h;++h)if(f(g[h]))return!0;return!1}return b&&f(b)?!0:f(c)}function n(a){var b=Cb[bb(a,"keyCode")];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function z(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function A(a,b,c){return a.startState?a.startState(b,c):!0}function B(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8}function D(a,b){if(a)for(var c=0;a.length>c;++c){var d=a[c];if(d.marker==b)return d}}function E(a,b){for(var c,d=0;a.length>d;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function F(a,b,c){if(a)for(var e,d=0;a.length>d;++d){var f=a[d],g=f.marker,h=null==f.from||(g.inclusiveLeft?b>=f.from:b>f.from);if(h||"bookmark"==g.type&&f.from==b&&f.from!=c){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(e||(e=[])).push({from:f.from,to:i?null:f.to,marker:g})}}return e}function G(a,b){if(a)for(var d,c=0;a.length>c;++c){var e=a[c],f=e.marker,g=null==e.to||(f.inclusiveRight?e.to>=b:e.to>b);if(g||"bookmark"==f.type&&e.from==b){var h=null==e.from||(f.inclusiveLeft?b>=e.from:b>e.from);(d||(d=[])).push({from:h?null:e.from-b,to:null==e.to?null:e.to-b,marker:f})}}return d}function H(a,b,c,d,e){if(!a&&!b)return e;var f=F(a,c),g=G(b,d),h=1==e.length,i=nb(e).length+(h?c:0);if(f)for(var j=0;f.length>j;++j){var k=f[j];if(null==k.to){var l=D(g,k.marker);l?h&&(k.to=null==l.to?null:l.to+i):k.to=c}}if(g)for(var j=0;g.length>j;++j){var k=g[j];if(null!=k.to&&(k.to+=i),null==k.from){var l=D(f,k.marker);l||(k.from=i,h&&(f||(f=[])).push(k))}else k.from+=i,h&&(f||(f=[])).push(k)}var m=[K(e[0],f)];if(!h){var o,n=e.length-2;if(n>0&&f)for(var j=0;f.length>j;++j)null==f[j].to&&(o||(o=[])).push({from:null,to:null,marker:f[j].marker});for(var j=0;n>j;++j)m.push(K(e[j+1],o));m.push(K(nb(e),g))}return m}function I(a){return"string"==typeof a?a:a.text}function J(a){if("string"==typeof a)return null;for(var b=a.markedSpans,c=null,d=0;b.length>d;++d)b[d].marker.explicitlyCleared?c||(c=b.slice(0,d)):c&&c.push(b[d]);return c?c.length?c:null:b}function K(a,b){return b?{text:a,markedSpans:b}:a}function L(a){var b=a.markedSpans;if(b){for(var c=0;b.length>c;++c){var d=b[c].marker.lines,e=xb(d,a);d.splice(e,1)}a.markedSpans=null}}function M(a,b){if(b){for(var c=0;b.length>c;++c)b[c].marker.lines.push(a);a.markedSpans=b}}function O(a,b){this.text=a,this.height=1,M(this,b)}function P(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;c>b;++b)a[b].parent=this,d+=a[b].height;this.height=d}function Q(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;e>d;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function R(a,b){for(;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(e>b){a=d;break}b-=e}return a.lines[b]}function S(a){if(null==a.parent)return null;for(var b=a.parent,c=xb(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c}function T(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e>d;++d){var f=a.children[d],g=f.height;if(g>b){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;e>d;++d){var h=a.lines[d],i=h.height;if(i>b)break;b-=i}return c+d}function U(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e>d;++d){var f=a.children[d],g=f.chunkSize();if(g>b){a=f;continue a}b-=g,c+=f.height}return c}while(!a.lines);for(var d=0;b>d;++d)c+=a.lines[d].height;return c}function V(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function W(){$(this)}function X(a){return a.stop||(a.stop=W),a}function Y(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Z(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function $(a){Y(a),Z(a)}function _(a){return a.target||a.srcElement}function ab(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),c&&a.ctrlKey&&1==b&&(b=3),b}function bb(a,b){var c=a.override&&a.override.hasOwnProperty(b);return c?a.override[b]:a[b]}function cb(a,b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};if(a.attachEvent("on"+b,e),d)return function(){a.detachEvent("on"+b,e)}}}function db(){this.id=null}function ib(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var d=0,e=0;b>d;++d)"	"==a.charAt(d)?e+=c-e%c:++e;return e}function jb(a,b){try{var c=a.getBoundingClientRect();c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&&(e=document.body),c.top+=e.scrollTop,c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c}function kb(a){return a.textContent||a.innerText||a.nodeValue||""}function mb(a){for(;a>=lb.length;)lb.push(nb(lb)+" ");return lb[a]}function nb(a){return a[a.length-1]}function ob(a){b?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function pb(a,b){return a.line==b.line&&a.ch==b.ch}function qb(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function rb(a){return{line:a.line,ch:a.ch}}function sb(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)vb(e,b);else if(b)for(var f=0;b.length>f;++f)e.appendChild(b[f]);return e}function tb(a){return a.innerHTML="",a}function ub(a,b){tb(a).appendChild(b)}function vb(a,b){r?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function wb(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;c>=0&&d>=0&&a.charAt(c)==b.charAt(d);--c,--d);return d+1}function xb(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;++c)if(a[c]==b)return c;return-1}function zb(a){return/\w/.test(a)||a>"\u0080"&&(a.toUpperCase()!=a.toLowerCase()||yb.test(a))}a.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,showCursorWhenSelecting:!1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var b=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),c=b||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var e=a.modes={},f=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;arguments.length>d;++d)c.dependencies.push(arguments[d])}e[b]=c},a.defineMIME=function(a,b){f[a]=b},a.resolveMode=function(b){if("string"==typeof b&&f.hasOwnProperty(b))b=f[b];else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=e[c.name];if(!d)return a.getMode(b,"text/plain");var f=d(b,c);if(i.hasOwnProperty(c.name)){var g=i[c.name];for(var h in g)g.hasOwnProperty(h)&&(f.hasOwnProperty(h)&&(f["_"+h]=f[h]),f[h]=g[h])}return f.name=c.name,f},a.listModes=function(){var a=[];for(var b in e)e.propertyIsEnumerable(b)&&a.push(b);return a},a.listMIMEs=function(){var a=[];for(var b in f)f.propertyIsEnumerable(b)&&a.push({mime:b,mode:f[b]});return a};var g=a.extensions={};a.defineExtension=function(a,b){g[a]=b};var h=[];a.defineInitHook=function(a){h.push(a)};var i=a.modeExtensions={};a.extendMode=function(a,b){var c=i.hasOwnProperty(a)?i[a]:i[a]={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d])};var j=a.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!pb(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),d=Math.max(0,c.search(/\S/));a.setCursor(b.line,d>=b.ch&&b.ch?0:d,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("	","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end"),a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},k=a.keyMap={};k.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},k.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},k.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},k["default"]=c?k.macDefault:k.pcDefault,k.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.isModifierKey=n,a.fromTextArea=function(b,c){function f(){b.value=j.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),null==c.autofocus){var d=document.body;try{d=document.activeElement}catch(e){}c.autofocus=d==b||null!=b.getAttribute("autofocus")&&d==document.body}if(b.form){var g=cb(b.form,"submit",f,!0),h=b.form.submit;b.form.submit=function i(){f(),b.form.submit=h,b.form.submit(),b.form.submit=i}}b.style.display="none";var j=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return j.save=f,j.getTextArea=function(){return b},j.toTextArea=function(){f(),b.parentNode.removeChild(j.getWrapperElement()),b.style.display="",b.form&&(g(),"function"==typeof b.form.submit&&(b.form.submit=h))},j};var o=/gecko\/\d/i.test(navigator.userAgent),p=/MSIE \d/.test(navigator.userAgent),q=/MSIE [1-7]\b/.test(navigator.userAgent),r=/MSIE [1-8]\b/.test(navigator.userAgent),s=p&&5==document.documentMode,t=/WebKit\//.test(navigator.userAgent),u=/Chrome\//.test(navigator.userAgent),v=/Opera\//.test(navigator.userAgent),w=/Apple Computer/.test(navigator.vendor),x=/KHTML\//.test(navigator.userAgent),y=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);a.copyState=z,a.startState=A,a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);b=c.state,a=c.mode}return c||{mode:a,state:b}},B.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return ib(this.string,this.start,this.tabSize)},indentation:function(){return ib(this.string,null,this.tabSize)},match:function(a,b,c){if("string"!=typeof a){var e=this.string.slice(this.pos).match(a);return e&&e.index>0?null:(e&&b!==!1&&(this.pos+=e[0].length),e)}var d=function(a){return c?a.toLowerCase():a};return d(this.string).indexOf(d(a),this.pos)==this.pos?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=B;var N=" ";o||p&&!q?N="\u200b":v&&(N=""),O.prototype={update:function(a,b){this.text=a,this.stateAfter=this.styles=null,L(this),M(this,b)},highlight:function(a,b,c){var d=new B(this.text,c),e=this.styles||(this.styles=[]),f=e.length=0;for(""==this.text&&a.blankLine&&a.blankLine(b);!d.eol();){var g=a.token(d,b),h=d.current();if(d.start=d.pos,f&&e[f-1]==g?e[f-2]+=h:h&&(e[f++]=h,e[f++]=g),d.pos>5e3){e[f++]=this.text.slice(d.pos),e[f++]=null;break}}},process:function(a,b,c){var d=new B(this.text,c);for(""==this.text&&a.blankLine&&a.blankLine(b);!d.eol()&&5e3>=d.pos;)a.token(d,b),d.start=d.pos},getTokenAt:function(a,b,c,d){for(var e=this.text,f=new B(e,c);d>f.pos&&!f.eol();){f.start=f.pos;var g=a.token(f,b)}return{start:f.start,end:f.pos,string:f.current(),className:g||null,state:b}},indentation:function(a){return ib(this.text,null,a)},getContent:function(a,b,c){function h(b,c,g){if(c){if(d&&p&&" "==c.charAt(0)&&(c="\u00a0"+c.slice(1)),d=!1,f.test(c))for(var h=document.createDocumentFragment(),i=0;;){f.lastIndex=i;var j=f.exec(c),k=j?j.index-i:c.length-i;if(k&&(h.appendChild(document.createTextNode(c.slice(i,i+k))),e+=k),!j)break;if(i+=k+1,"	"==j[0]){var l=a-e%a;h.appendChild(sb("span",mb(l),"cm-tab")),e+=l}else{var m=sb("span","\u2022","cm-invalidchar");m.title="\\u"+j[0].charCodeAt(0).toString(16),h.appendChild(m),e+=1}}else{e+=c.length;var h=document.createTextNode(c)}g?b.appendChild(sb("span",[h],g)):b.appendChild(h)}}function r(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var d=!0,e=0,f=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,g=sb("pre"),i=h;if(null!=b){var j=0,k=g.anchor=sb("span");i=function(a,d,e){var f=d.length;if(b>=j&&j+f>b){var g=b-j;if(g&&(h(a,d.slice(0,g),e),c)){var l=d.slice(g-1,g+1);hb.test(l)?a.appendChild(sb("wbr")):!q&&/\w\w/.test(l)&&a.appendChild(document.createTextNode("\u200d"))}a.appendChild(k),h(k,v?d.slice(g,g+1):d.slice(g),e),v&&h(a,d.slice(g+1),e),b--,j+=f}else j+=f,h(a,d,e),j==b&&j==o?(vb(k,N),a.appendChild(k)):j>b+10&&/\s/.test(d)&&(i=function(){})}}var l=this.styles,m=this.text,n=this.markedSpans,o=m.length;if(m||null!=b)if(n&&n.length){n.sort(function(a,b){return a.from-b.from});for(var w,y=0,s=0,z="",B=n[0].from||0,C=[],D=0,E=function(){for(var a;n.length>D&&((a=n[D]).from==y||null==a.from);)"range"==a.marker.type&&C.push(a),++D;B=n.length>D?n[D].from:1/0;for(var b=0;C.length>b;++b){var c=C[b].to;null==c&&(c=1/0),c==y?C.splice(b--,1):B=Math.min(c,B)}};o>y;){B==y&&E();for(var G=Math.min(o,B);;){if(z){for(var H=y+z.length,I=w,J=0;C.length>J;++J){var K=C[J];I=(I?I+" ":"")+K.marker.style,K.marker.endStyle&&K.to===Math.min(H,G)&&(I+=" "+K.marker.endStyle),K.marker.startStyle&&K.from===y&&(I+=" "+K.marker.startStyle)}if(i(g,H>G?z.slice(0,G-y):z,I),H>=G){z=z.slice(G-y),y=G;break}y=H}z=l[s++],w=r(l[s++])}}}else for(var s=0,t=0;o>t;s+=2){var u=l[s],w=l[s+1],x=u.length;t+x>o&&(u=u.slice(0,o-t)),t+=x,i(g,u,r(w))}else i(g," ");return g},cleanUp:function(){this.parent=null,L(this)}},P.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;e>d;++d){var f=this.lines[d];if(this.height-=f.height,f.cleanUp(),f.handlers)for(var g=0;f.handlers.length>g;++g)c.push(f.handlers[g])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;e>d;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},Q.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;this.children.length>d;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a),h=e.height;if(e.remove(a,g,c),this.height-=h-e.height,f==g&&(this.children.splice(d--,1),e.parent=null),0==(b-=g))break;a=0}else a-=f}if(25>this.size-b){var i=[];this.collapse(i),this.children=[new P(i)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;c>b;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;e>d;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>=a){if(f.insertHeight(a,b,c),f.lines&&f.lines.length>50){for(;f.lines.length>50;){var h=f.lines.splice(f.lines.length-25,25),i=new P(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Q(b);if(a.parent){a.size-=c.size,a.height-=c.height;var e=xb(a.parent.children,a);a.parent.children.splice(e+1,0,c)}else{var d=new Q(a.children);d.parent=a,a.children=[d,c],a=d}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>a){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}},V.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=nb(this.done),f=e&&nb(e),g=d-this.time;if(e&&!this.closed&&this.compound)e.push({start:a,added:b,old:c});else if(g>400||!f||this.closed||f.start>a+c.length||a>f.start+f.added)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var h=Math.max(0,f.start-a),i=Math.max(0,a+c.length-(f.start+f.added)),j=h;j>0;--j)f.old.unshift(c[j-1]);for(var j=i;j>0;--j)f.old.push(c[c.length-j]);h&&(f.start=a),f.added+=b-(c.length-h-i)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},a.e_stop=$,a.e_preventDefault=Y,a.e_stopPropagation=Z,a.connect=cb,db.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}};var eb=a.Pass={toString:function(){return"CodeMirror.Pass"}},fb=function(){if(r)return!1;var a=sb("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=sb("textarea");return a.value="foo\nbar",a.value.indexOf("\r")>-1?"\r\n":"\n"})();var hb=/^$/;o?hb=/$'/:w?hb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:u&&(hb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var lb=[""],yb=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,Ab=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)};a.splitLines=Ab;var Bb=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var Cb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return a.keyNames=Cb,function(){for(var a=0;10>a;a++)Cb[a+48]=a+"";for(var a=65;90>=a;a++)Cb[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)Cb[a+111]=Cb[a+63235]="F"+a}(),a.version="2.36 +",a}(),CodeMirror.defineMode("css",function(a){function i(a){for(var b={},c=0;a.length>c;++c)b[a[c]]=!0;return b}function j(a,b){return c=b,a}function k(a,b){var d=a.next();if("@"==d)return a.eatWhile(/[\w\\\-]/),j("def",a.current());if("/"==d&&a.eat("*"))return b.tokenize=l,l(a,b);if("<"==d&&a.eat("!"))return b.tokenize=m,m(a,b);if("="==d)j(null,"compare");else{if(("~"==d||"|"==d)&&a.eat("="))return j(null,"compare");if('"'==d||"'"==d)return b.tokenize=n(d),b.tokenize(a,b);if("#"==d)return a.eatWhile(/[\w\\\-]/),j("atom","hash");if("!"==d)return a.match(/^\s*\w*/),j("keyword","important");if(/\d/.test(d))return a.eatWhile(/[\w.%]/),j("number","unit");if("-"!==d)return/[,+>*\/]/.test(d)?j(null,"select-op"):"."==d&&a.match(/^-?[_a-z][_a-z0-9-]*/i)?j("qualifier",c):":"==d?j("operator",d):/[;{}\[\]\(\)]/.test(d)?j(null,d):"u"==d&&a.match("rl(")?(a.backUp(1),b.tokenize=o,j("property","variable")):(a.eatWhile(/[\w\\\-]/),j("property","variable"));if(/\d/.test(a.peek()))return a.eatWhile(/[\w.%]/),j("number","unit");if(a.match(/^[^-]+-/))return j("meta",c)}}function l(a,b){for(var d,c=!1;null!=(d=a.next());){if(c&&"/"==d){b.tokenize=k;break}c="*"==d}return j("comment","comment")}function m(a,b){for(var d,c=0;null!=(d=a.next());){if(c>=2&&">"==d){b.tokenize=k;break}c="-"==d?c+1:0}return j("comment","comment")}function n(a,b){return function(c,d){for(var f,e=!1;null!=(f=c.next())&&(f!=a||e);)e=!e&&"\\"==f;return e||(b&&c.backUp(1),d.tokenize=k),j("string","string")}}function o(a,b){return a.next(),b.tokenize=a.match(/\s*[\"\']/,!1)?k:n(")",!0),j(null,"(")}var c,b=a.indentUnit,d=i(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),e=i(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),f=i(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),g=i(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),h=i(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);
return{startState:function(a){return{tokenize:k,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var i=b.tokenize(a,b),j=b.stack[b.stack.length-1];return"property"==i?"propertyValue"==j?i=h[a.current()]?"string-2":g[a.current()]?"keyword":"variable-2":"rule"==j?f[a.current()]||(i+=" error"):j&&"@media{"!=j?"@media"==j?i=d[a.current()]?"attribute":/^(only|not)$/i.test(a.current())?"keyword":"and"==a.current().toLowerCase()?"error":e[a.current()]?"error":"attribute error":"@mediaType"==j?i=d[a.current()]?"attribute":"and"==a.current().toLowerCase()?"operator":/^(only|not)$/i.test(a.current())?"error":e[a.current()]?"error":"error":"@mediaType("==j?f[a.current()]||(d[a.current()]?i="error":"and"==a.current().toLowerCase()?i="operator":/^(only|not)$/i.test(a.current())?i="error":i+=" error"):i="error":i="tag":"atom"==i?j&&"@media{"!=j?"propertyValue"==j?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(a.current())||(i+=" error"):i="error":i="builtin":"@media"==j&&"{"==c&&(i="error"),"{"==c?"@media"==j||"@mediaType"==j?(b.stack.pop(),b.stack[b.stack.length-1]="@media{"):b.stack.push("rule"):"}"==c?(b.stack.pop(),"propertyValue"==j&&b.stack.pop()):"@media"==c?b.stack.push("@media"):"@media"==j&&/\b(keyword|attribute)\b/.test(i)?b.stack.push("@mediaType"):"@mediaType"==j&&","==a.current()?b.stack.pop():"@mediaType"==j&&"("==c?b.stack.push("@mediaType("):"@mediaType("==j&&")"==c?b.stack.pop():"rule"==j&&":"==c?b.stack.push("propertyValue"):"propertyValue"==j&&";"==c&&b.stack.pop(),i},indent:function(a,c){var d=a.stack.length;return/^\}/.test(c)&&(d-="propertyValue"==a.stack[a.stack.length-1]?2:1),a.baseIndent+d*b},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("diff",function(){var a={"+":"positive","-":"negative","@":"meta"};return{token:function(b){var c=b.string.search(/[\t ]+?$/);if(!b.sol()||0===c)return b.skipToEnd(),("error "+(a[b.string.charAt(0)]||"")).replace(/ $/,"");var d=a[b.peek()]||b.skipToEnd();return-1===c?b.skipToEnd():b.pos=c,d}}}),CodeMirror.defineMIME("text/x-diff","diff"),CodeMirror.defineMode("htmlembedded",function(a,b){function g(a,b){return a.match(c,!1)?(b.token=h,e.token(a,b.scriptState)):f.token(a,b.htmlState)}function h(a,b){return a.match(d,!1)?(b.token=g,f.token(a,b.htmlState)):e.token(a,b.scriptState)}var e,f,c=b.scriptStartRegex||/^<%/i,d=b.scriptEndRegex||/^%>/i;return{startState:function(){return e=e||CodeMirror.getMode(a,b.scriptingModeSpec),f=f||CodeMirror.getMode(a,"htmlmixed"),{token:b.startOpen?h:g,htmlState:f.startState(),scriptState:e.startState()}},token:function(a,b){return b.token(a,b)},indent:function(a,b){return a.token==g?f.indent(a.htmlState,b):e.indent(a.scriptState,b)},copyState:function(a){return{token:a.token,htmlState:CodeMirror.copyState(f,a.htmlState),scriptState:CodeMirror.copyState(e,a.scriptState)}},electricChars:"/{}:",innerMode:function(a){return a.token==h?{state:a.scriptState,mode:e}:{state:a.htmlState,mode:f}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),CodeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"}),CodeMirror.defineMode("htmlmixed",function(a){function e(a,e){var f=b.token(a,e.htmlState);return/(?:^|\s)tag(?:\s|$)/.test(f)&&">"==a.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=g,e.localState=c.startState(b.indent(e.htmlState,""))):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=h,e.localState=d.startState(b.indent(e.htmlState,"")))),f}function f(a,b,c){var f,d=a.current(),e=d.search(b);return e>-1?a.backUp(d.length-e):(f=d.match(/<\/?$/))&&(a.backUp(d.length),a.match(b,!1)||a.match(d[0])),c}function g(a,b){return a.match(/^<\/\s*script\s*>/i,!1)?(b.token=e,b.localState=null,e(a,b)):f(a,/<\/\s*script\s*>/,c.token(a,b.localState))}function h(a,b){return a.match(/^<\/\s*style\s*>/i,!1)?(b.token=e,b.localState=null,e(a,b)):f(a,/<\/\s*style\s*>/,d.token(a,b.localState))}var b=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),c=CodeMirror.getMode(a,"javascript"),d=CodeMirror.getMode(a,"css");return{startState:function(){var a=b.startState();return{token:e,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var e=CodeMirror.copyState(a.token==h?d:c,a.localState);return{token:a.token,localState:e,mode:a.mode,htmlState:CodeMirror.copyState(b,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,f){return a.token==e||/^\s*<\//.test(f)?b.indent(a.htmlState,f):a.token==g?c.indent(a.localState,f):d.indent(a.localState,f)},electricChars:"/{}:",innerMode:function(a){var f=a.token==e?b:a.token==g?c:d;return{state:a.localState||a.htmlState,mode:f}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("http",function(){function a(a,b){return a.skipToEnd(),b.cur=g,"error"}function b(b,d){return b.match(/^HTTP\/\d\.\d/)?(d.cur=c,"keyword"):b.match(/^[A-Z]+/)&&/[ \t]/.test(b.peek())?(d.cur=e,"keyword"):a(b,d)}function c(b,c){var e=b.match(/^\d+/);if(!e)return a(b,c);c.cur=d;var f=Number(e[0]);return f>=100&&200>f?"positive informational":f>=200&&300>f?"positive success":f>=300&&400>f?"positive redirect":f>=400&&500>f?"negative client-error":f>=500&&600>f?"negative server-error":"error"}function d(a,b){return a.skipToEnd(),b.cur=g,null}function e(a,b){return a.eatWhile(/\S/),b.cur=f,"string-2"}function f(b,c){return b.match(/^HTTP\/\d\.\d$/)?(c.cur=g,"keyword"):a(b,c)}function g(a){return a.sol()&&!a.eat(/[ \t]/)?a.match(/^.*?:/)?"atom":(a.skipToEnd(),"error"):(a.skipToEnd(),"string")}function h(a){return a.skipToEnd(),null}return{token:function(a,b){var c=b.cur;return c!=g&&c!=h&&a.eatSpace()?null:c(a,b)},blankLine:function(a){a.cur=h},startState:function(){return{cur:b}}}}),CodeMirror.defineMIME("message/http","http"),CodeMirror.defineMode("javascript",function(a,b){function h(a,b,c){return b.tokenize=c,c(a,b)}function i(a,b){for(var d,c=!1;null!=(d=a.next());){if(d==b&&!c)return!1;c=!c&&"\\"==d}return c}function l(a,b,c){return j=a,k=c,b}function m(a,b){var c=a.next();if('"'==c||"'"==c)return h(a,b,n(c));if(/[\[\]{}\(\),;\:\.]/.test(c))return l(c);if("0"==c&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),l("number","number");if(/\d/.test(c)||"-"==c&&a.eat(/\d/))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),l("number","number");if("/"==c)return a.eat("*")?h(a,b,o):a.eat("/")?(a.skipToEnd(),l("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(i(a,"/"),a.eatWhile(/[gimy]/),l("regexp","string-2")):(a.eatWhile(g),l("operator",null,a.current()));if("#"==c)return a.skipToEnd(),l("error","error");if(g.test(c))return a.eatWhile(g),l("operator",null,a.current());a.eatWhile(/[\w\$_]/);var d=a.current(),e=f.propertyIsEnumerable(d)&&f[d];return e&&"."!=b.lastType?l(e.type,e.style,d):l("variable","variable",d)}function n(a){return function(b,c){return i(b,a)||(c.tokenize=m),l("string","string")}}function o(a,b){for(var d,c=!1;d=a.next();){if("/"==d&&c){b.tokenize=m;break}c="*"==d}return l("comment","comment")}function q(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function r(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function s(a,b,c,e,f){var g=a.cc;for(t.state=a,t.stream=f,t.marked=null,t.cc=g,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var h=g.length?g.pop():d?E:D;if(h(c,e)){for(;g.length&&g[g.length-1].lex;)g.pop()();return t.marked?t.marked:"variable"==c&&r(a,e)?"variable-2":b}}}function u(){for(var a=arguments.length-1;a>=0;a--)t.cc.push(arguments[a])}function v(){return u.apply(null,arguments),!0}function w(a){var b=t.state;if(b.context){t.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}function y(){t.state.context={prev:t.state.context,vars:t.state.localVars},t.state.localVars=x}function z(){t.state.localVars=t.state.context.vars,t.state.context=t.state.context.prev}function A(a,b){var c=function(){var c=t.state;c.lexical=new q(c.indented,t.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function B(){var a=t.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function C(a){return function(b){return b==a?v():";"==a?u():v(arguments.callee)}}function D(a){return"var"==a?v(A("vardef"),O,C(";"),B):"keyword a"==a?v(A("form"),E,D,B):"keyword b"==a?v(A("form"),D,B):"{"==a?v(A("}"),L,B):";"==a?v():"function"==a?v(U):"for"==a?v(A("form"),C("("),A(")"),Q,C(")"),B,D,B):"variable"==a?v(A("stat"),H):"switch"==a?v(A("form"),E,A("}","switch"),C("{"),L,B,B):"case"==a?v(E,C(":")):"default"==a?v(C(":")):"catch"==a?v(A("form"),y,C("("),V,C(")"),D,B,z):u(A("stat"),E,C(";"),B)}function E(a){return p.hasOwnProperty(a)?v(G):"function"==a?v(U):"keyword c"==a?v(F):"("==a?v(A(")"),F,C(")"),B,G):"operator"==a?v(E):"["==a?v(A("]"),K(E,"]"),B,G):"{"==a?v(A("}"),K(J,"}"),B,G):v()}function F(a){return a.match(/[;\}\)\],]/)?u():u(E)}function G(a,b){if("operator"==a&&/\+\+|--/.test(b))return v(G);if("operator"==a&&"?"==b)return v(E,C(":"),E);if(";"!=a)return"("==a?v(A(")"),K(E,")"),B,G):"."==a?v(I,G):"["==a?v(A("]"),E,C("]"),B,G):void 0}function H(a){return":"==a?v(B,D):u(G,C(";"),B)}function I(a){return"variable"==a?(t.marked="property",v()):void 0}function J(a){return"variable"==a&&(t.marked="property"),p.hasOwnProperty(a)?v(C(":"),E):void 0}function K(a,b){function c(d){return","==d?v(a,c):d==b?v():v(C(b))}return function(d){return d==b?v():u(a,c)}}function L(a){return"}"==a?v():u(D,L)}function M(a){return":"==a?v(N):u()}function N(a){return"variable"==a?(t.marked="variable-3",v()):u()}function O(a,b){return"variable"==a?(w(b),e?v(M,P):v(P)):u()}function P(a,b){return"="==b?v(E,P):","==a?v(O):void 0}function Q(a){return"var"==a?v(O,C(";"),S):";"==a?v(S):"variable"==a?v(R):v(S)}function R(a,b){return"in"==b?v(E):v(G,S)}function S(a,b){return";"==a?v(T):"in"==b?v(E):v(E,C(";"),T)}function T(a){")"!=a&&v(E)}function U(a,b){return"variable"==a?(w(b),v(U)):"("==a?v(A(")"),y,K(V,")"),B,D,z):void 0}function V(a,b){return"variable"==a?(w(b),e?v(M):v()):void 0}var j,k,c=a.indentUnit,d=b.json,e=b.typescript,f=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),f=a("operator"),g={type:"atom",style:"atom"},h={"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":f,"typeof":f,"instanceof":f,"true":g,"false":g,"null":g,undefined:g,NaN:g,Infinity:g};if(e){var i={type:"variable",style:"variable-3"},j={"interface":a("interface"),"class":a("class"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),"super":a("super"),string:i,number:i,bool:i,any:i};for(var k in j)h[k]=j[k]}return h}(),g=/[+\-*&%=<>!?|]/,p={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},t={state:null,column:null,marked:null,cc:null},x={name:"this",next:{name:"arguments"}};return B.lex=!0,{startState:function(a){return{tokenize:m,lastType:null,cc:[],lexical:new q((a||0)-c,0,"block",!1),localVars:b.localVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation()),a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==j?c:(b.lastType=j,s(b,c,j,k,a))},indent:function(a,b){if(a.tokenize==o)return CodeMirror.Pass;if(a.tokenize!=m)return 0;var d=b&&b.charAt(0),e=a.lexical;"stat"==e.type&&"}"==d&&(e=e.prev);var f=e.type,g=d==f;return"vardef"==f?e.indented+("operator"==a.lastType||","==a.lastType?4:0):"form"==f&&"{"==d?e.indented:"form"==f?e.indented+c:"stat"==f?e.indented+("operator"==a.lastType||","==a.lastType?c:0):"switch"!=e.info||g?e.align?e.column+(g?0:1):e.indented+(g?0:c):e.indented+(/^(?:case|default)\b/.test(b)?c:2*c)},electricChars:":{}",jsonMode:d}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),function(){function a(a){for(var b={},c=a.split(" "),d=0;c.length>d;++d)b[c[d]]=!0;return b}function b(a){return function(b,c){return b.match(a)?c.tokenize=null:b.skipToEnd(),"string"}}var c={name:"clike",keywords:a("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent"),blockKeywords:a("catch do else elseif for foreach if switch try while"),atoms:a("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__"),builtin:a("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(a){return a.eatWhile(/[\w\$_]/),"variable-2"},"<":function(a,c){return a.match(/<</)?(a.eatWhile(/[\w\.]/),c.tokenize=b(a.current().slice(3)),c.tokenize(a,c)):!1},"#":function(a){for(;!a.eol()&&!a.match("?>",!1);)a.next();return"comment"},"/":function(a){if(a.eat("/")){for(;!a.eol()&&!a.match("?>",!1);)a.next();return"comment"}return!1}}};CodeMirror.defineMode("php",function(a,b){function f(a,b){var c=b.curMode==e;if(a.sol()&&'"'!=b.pending&&(b.pending=null),c)return c&&null==b.php.tokenize&&a.match("?>")?(b.curMode=d,b.curState=b.html,"meta"):e.token(a,b.curState);if(a.match(/^<\?\w*/))return b.curMode=e,b.curState=b.php,"meta";if('"'==b.pending){for(;!a.eol()&&'"'!=a.next(););var f="string"}else if(b.pending&&a.pos<b.pending.end){a.pos=b.pending.end;var f=b.pending.style}else var f=d.token(a,b.curState);b.pending=null;var g=a.current(),h=g.search(/<\?/);return-1!=h&&(b.pending="string"==f&&/\"$/.test(g)&&!/\?>/.test(g)?'"':{end:a.pos,style:f},a.backUp(g.length-h)),f}var d=CodeMirror.getMode(a,"text/html"),e=CodeMirror.getMode(a,c);return{startState:function(){var a=CodeMirror.startState(d),c=CodeMirror.startState(e);return{html:a,php:c,curMode:b.startOpen?e:d,curState:b.startOpen?c:a,pending:null}},copyState:function(a){var h,b=a.html,c=CodeMirror.copyState(d,b),f=a.php,g=CodeMirror.copyState(e,f);return h=a.curMode==d?c:g,{html:c,php:g,curMode:a.curMode,curState:h,pending:a.pending}},token:f,indent:function(a,b){return a.curMode!=e&&/^\s*<\//.test(b)||a.curMode==e&&/^\?>/.test(b)?d.indent(a.html,b):a.curMode.indent(a.curState,b)},electricChars:"/{}:",innerMode:function(a){return{state:a.curState,mode:a.curMode}}}},"htmlmixed"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",c)}(),CodeMirror.defineMode("xml",function(a,b){function h(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if("<"==d){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(k("atom","]]>")):null:a.match("--")?c(k("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(l(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=k("meta","?>"),"meta";var e=a.eat("/");f="";for(var h;h=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)f+=h;return f?(g=e?"closeTag":"openTag",b.tokenize=i,"tag"):"error"}if("&"==d){var j;return j=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),j?"atom":"error"}return a.eatWhile(/[^&<]/),null}function i(a,b){var c=a.next();return">"==c||"/"==c&&a.eat(">")?(b.tokenize=h,g=">"==c?"endTag":"selfcloseTag","tag"):"="==c?(g="equals",null):/[\'\"]/.test(c)?(b.tokenize=j(c),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function j(a){return function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=i;break}return"string"}}function k(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=h;break}c.next()}return a}}function l(a){return function(b,c){for(var d;null!=(d=b.next());){if("<"==d)return c.tokenize=l(a+1),c.tokenize(b,c);if(">"==d){if(1==a){c.tokenize=h;break}return c.tokenize=l(a-1),c.tokenize(b,c)}}return"meta"}}function o(){for(var a=arguments.length-1;a>=0;a--)m.cc.push(arguments[a])}function p(){return o.apply(null,arguments),!0}function q(a,b){var c=d.doNotIndent.hasOwnProperty(a)||m.context&&m.context.noIndent;m.context={prev:m.context,tagName:a,indent:m.indented,startOfLine:b,noIndent:c}}function r(){m.context&&(m.context=m.context.prev)}function s(a){if("openTag"==a)return m.tagName=f,p(w,t(m.startOfLine));if("closeTag"==a){var b=!1;return m.context?m.context.tagName!=f&&(d.implicitlyClosed.hasOwnProperty(m.context.tagName.toLowerCase())&&r(),b=!m.context||m.context.tagName!=f):b=!0,b&&(n="error"),p(u(b))}return p()}function t(a){return function(b){return"selfcloseTag"==b||"endTag"==b&&d.autoSelfClosers.hasOwnProperty(m.tagName.toLowerCase())?(v(m.tagName.toLowerCase()),p()):"endTag"==b?(v(m.tagName.toLowerCase()),q(m.tagName,a),p()):p()}}function u(a){return function(b){return a&&(n="error"),"endTag"==b?(r(),p()):(n="error",p(arguments.callee))}}function v(a){for(var b;;){if(!m.context)return;if(b=m.context.tagName.toLowerCase(),!d.contextGrabbers.hasOwnProperty(b)||!d.contextGrabbers[b].hasOwnProperty(a))return;r()}}function w(a){return"word"==a?(n="attribute",p(x,w)):"endTag"==a||"selfcloseTag"==a?o():(n="error",p(w))}function x(a){return"equals"==a?p(y,w):(d.allowMissing?"word"==a&&(n="attribute"):n="error","endTag"==a||"selfcloseTag"==a?o():p())}function y(a){return"string"==a?p(z):"word"==a&&d.allowUnquoted?(n="string",p()):(n="error","endTag"==a||"selfCloseTag"==a?o():p())}function z(a){return"string"==a?p(z):o()}var f,g,m,n,c=a.indentUnit,d=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},e=b.alignCDATA;return{startState:function(){return{tokenize:h,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,b){if(a.sol()&&(b.startOfLine=!0,b.indented=a.indentation()),a.eatSpace())return null;n=g=f=null;var c=b.tokenize(a,b);if(b.type=g,(c||g)&&"comment"!=c)for(m=b;;){var d=b.cc.pop()||s;if(d(g||c))break}return b.startOfLine=!1,n||c},indent:function(a,b,d){var f=a.context;if(a.tokenize!=i&&a.tokenize!=h||f&&f.noIndent)return d?d.match(/^(\s*)/)[0].length:0;if(e&&/<!\[CDATA\[/.test(b))return 0;for(f&&/^<\//.test(b)&&(f=f.prev);f&&!f.startOfLine;)f=f.prev;return f?f.indent+c:0},electricChars:"/",configuration:b.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.overlayMode=CodeMirror.overlayParser=function(a,b,c){return{startState:function(){return{base:CodeMirror.startState(a),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(a,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(d,e){return d.start==e.basePos&&(e.baseCur=a.token(d,e.base),e.basePos=d.pos),d.start==e.overlayPos&&(d.pos=d.start,e.overlayCur=b.token(d,e.overlay),e.overlayPos=d.pos),d.pos=Math.min(e.basePos,e.overlayPos),d.eol()&&(e.basePos=e.overlayPos=0),null==e.overlayCur?e.baseCur:null!=e.baseCur&&c?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:a.indent&&function(b,c){return a.indent(b.base,c)},electricChars:a.electricChars,innerMode:function(b){return{state:b.base,mode:a}},blankLine:function(c){a.blankLine&&a.blankLine(c.base),b.blankLine&&b.blankLine(c.overlay)}}},CodeMirror.multiplexingMode=function(a){function d(a,b,c){if("string"==typeof b)return a.indexOf(b,c);var d=b.exec(c?a.slice(c):a);return d?d.index+c:-1}var b=Array.prototype.slice.call(arguments,1),c=b.length;return{startState:function(){return{outer:CodeMirror.startState(a),innerActive:null,inner:null}},copyState:function(b){return{outer:CodeMirror.copyState(a,b.outer),innerActive:b.innerActive,inner:b.innerActive&&CodeMirror.copyState(b.innerActive.mode,b.inner)}},token:function(e,f){if(f.innerActive){var m=f.innerActive,h=e.string,k=d(h,m.close,e.pos);if(k==e.pos)return e.match(m.close),f.innerActive=f.inner=null,m.delimStyle;k>-1&&(e.string=h.slice(0,k));var n=m.mode.token(e,f.inner);k>-1&&(e.string=h);var o=e.current(),k=o.indexOf(m.close);return k>-1&&e.backUp(o.length-k),n}for(var g=1/0,h=e.string,i=0;c>i;++i){var j=b[i],k=d(h,j.open,e.pos);if(k==e.pos)return e.match(j.open),f.innerActive=j,f.inner=CodeMirror.startState(j.mode,a.indent?a.indent(f.outer,""):0),j.delimStyle;-1!=k&&g>k&&(g=k)}1/0!=g&&(e.string=h.slice(0,g));var l=a.token(e,f.outer);return 1/0!=g&&(e.string=h),l},indent:function(b,c){var d=b.innerActive?b.innerActive.mode:a;return d.indent?d.indent(b.innerActive?b.inner:b.outer,c):CodeMirror.Pass},blankLine:function(d){var e=d.innerActive?d.innerActive.mode:a;if(e.blankLine&&e.blankLine(d.innerActive?d.inner:d.outer),d.innerActive)"\n"===e.close&&(d.innerActive=d.inner=null);else for(var f=0;c>f;++f){var g=b[f];"\n"===g.open&&(d.innerActive=g,d.inner=CodeMirror.startState(g.mode,e.indent?e.indent(d.outer,""):0))}},electricChars:a.electricChars,innerMode:function(b){return b.inner?{state:b.inner,mode:b.innerActive.mode}:{state:b.outer,mode:a}}}},CodeMirror.runMode=function(a,b,c,d){function e(a){return a.replace(/[<&]/g,function(a){return"<"==a?"&lt;":"&amp;"})}var f=CodeMirror.getMode(CodeMirror.defaults,b),g=1==c.nodeType,h=d&&d.tabSize||CodeMirror.defaults.tabSize;if(g){var i=c,j=[],k=0;c=function(a,b){if("\n"==a)return j.push("<br>"),k=0,void 0;for(var c="",d=0;;){var f=a.indexOf("	",d);if(-1==f){c+=e(a.slice(d)),k+=a.length-d;break}k+=f-d,c+=e(a.slice(d,f));var g=h-k%h;k+=g;for(var i=0;g>i;++i)c+=" ";d=f+1}b?j.push('<span class="cm-'+e(b)+'">'+c+"</span>"):j.push(c)}}for(var l=CodeMirror.splitLines(a),m=CodeMirror.startState(f),n=0,o=l.length;o>n;++n){n&&c("\n");for(var p=new CodeMirror.StringStream(l[n]);!p.eol();){var q=f.token(p,m);c(p.current(),q,n,p.start),p.start=p.pos}}g&&(i.innerHTML=j.join(""))},function(){CodeMirror.simpleHint=function(a,b,c){function g(c){function i(b){a.replaceRange(b,f.from,f.to)}function q(){p||(p=!0,j.parentNode.removeChild(j))}function r(){i(h[k.selectedIndex]),q(),setTimeout(function(){a.focus()},50)}if(!a.somethingSelected()){var e=a.getTokenAt(a.getCursor());if(!d.closeOnTokenChange||null==c||e.start==c.start&&e.className==c.className){var f=b(a);if(f&&f.list.length){var h=f.list;if(d.completeSingle&&1==h.length)return i(h[0]),!0;var j=document.createElement("div");j.className="CodeMirror-completions";var k=j.appendChild(document.createElement("select"));window.opera||(k.multiple=!0);for(var l=0;h.length>l;++l){var m=k.appendChild(document.createElement("option"));m.appendChild(document.createTextNode(h[l]))}k.firstChild.selected=!0,k.size=Math.min(10,h.length);var n=d.alignWithWord?a.charCoords(f.from):a.cursorCoords();j.style.left=n.x+"px",j.style.top=n.yBot+"px",document.body.appendChild(j);var o=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);o-n.x<k.clientWidth&&(j.style.left=n.x-k.clientWidth+"px"),10>=h.length&&(j.style.width=k.clientWidth-1+"px");var p=!1;return CodeMirror.connect(k,"blur",q),CodeMirror.connect(k,"keydown",function(b){var c=b.keyCode;
13==c?(CodeMirror.e_stop(b),r()):27==c?(CodeMirror.e_stop(b),q(),a.focus()):38==c||40==c||33==c||34==c||CodeMirror.isModifierKey(b)||(q(),a.focus(),a.triggerOnKeyDown(b),d.closeOnBackspace&&8==c||setTimeout(function(){g(e)},50))}),CodeMirror.connect(k,"dblclick",r),k.focus(),window.opera&&setTimeout(function(){p||k.focus()},100),!0}}}}var d={},e=CodeMirror.simpleHint.defaults;for(var f in e)e.hasOwnProperty(f)&&(d[f]=(c&&c.hasOwnProperty(f)?c:e)[f]);return g()},CodeMirror.simpleHint.defaults={closeOnBackspace:!0,closeOnTokenChange:!1,completeSingle:!0,alignWithWord:!0}}(),function(){function a(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c])}function b(a,b){if(!Array.prototype.indexOf){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}return-1!=a.indexOf(b)}function c(a,b,c){var d=a.getCursor(),e=c(a,d),f=e;for(/^[\w$_]*$/.test(e.string)||(e=f={start:d.ch,end:d.ch,string:"",state:e.state,className:"."==e.string?"property":null});"property"==f.className;){if(f=c(a,{line:d.line,ch:f.start}),"."!=f.string)return;if(f=c(a,{line:d.line,ch:f.start}),")"==f.string){var g=1;do switch(f=c(a,{line:d.line,ch:f.start}),f.string){case")":g++;break;case"(":g--;break;default:}while(g>0);if(f=c(a,{line:d.line,ch:f.start}),"variable"!=f.className)return;f.className="function"}if(!h)var h=[];h.push(f)}return{list:j(e,h,b),from:{line:d.line,ch:e.start},to:{line:d.line,ch:e.end}}}function d(a,b){var c=a.getTokenAt(b);return b.ch==c.start+1&&"."==c.string.charAt(0)?(c.end=c.start,c.string=".",c.className="property"):/^\.[\w$_]*$/.test(c.string)&&(c.className="property",c.start++,c.string=c.string.replace(/\./,"")),c}function j(c,d,h){function k(a){0!=a.indexOf(j)||b(i,a)||i.push(a)}function l(b){"string"==typeof b?a(e,k):b instanceof Array?a(f,k):b instanceof Function&&a(g,k);for(var c in b)k(c)}var i=[],j=c.string;if(d){var n,m=d.pop();for("variable"==m.className?n=window[m.string]:"string"==m.className?n="":"atom"==m.className?n=1:"function"==m.className&&(null==window.jQuery||"$"!=m.string&&"jQuery"!=m.string||"function"!=typeof window.jQuery?null!=window._&&"_"==m.string&&"function"==typeof window._&&(n=window._()):n=window.jQuery());null!=n&&d.length;)n=n[d.pop().string];null!=n&&l(n)}else{for(var o=c.state.localVars;o;o=o.next)k(o.name);l(window),a(h,k)}return i}CodeMirror.javascriptHint=function(a){return c(a,h,function(a,b){return a.getTokenAt(b)})},CodeMirror.coffeescriptHint=function(a){return c(a,i,d)};var e="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),f="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),g="prototype apply call bind".split(" "),h="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),i="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}(),function(){CodeMirror.xmlHints=[],CodeMirror.xmlHint=function(b,c){if(c.length>0){var d=b.getCursor();b.replaceSelection(c),d={line:d.line,ch:d.ch+1},b.setCursor(d)}CodeMirror.simpleHint(b,a)};var a=function(a){var c=a.getCursor();if(c.ch>0){for(var d=a.getRange({line:0,ch:0},c),e="",f="",g=d.length-1;g>=0;g--){if(" "==d[g]||"<"==d[g]){f=d[g];break}e=d[g]+e}d=d.slice(0,d.length-e.length);var h=b(a,d)+f,i=CodeMirror.xmlHints[h];if(i===void 0)i=[""];else{i=i.slice(0);for(var g=i.length-1;g>=0;g--)0!=i[g].indexOf(e)&&i.splice(g,1)}return{list:i,from:{line:c.line,ch:c.ch-e.length},to:c}}},b=function(a,b){var d="";if(b.length>=0){for(var g,e=RegExp("<([^!?][^\\s/>]*).*?>","g"),f=[];null!=(g=e.exec(b));)f.push({tag:g[1],selfclose:"/>"===g[0].slice(g[0].length-2)});for(var h=f.length-1,i=0;h>=0;h--){var j=f[h];"/"==j.tag[0]?i++:0==j.selfclose&&(i>0?i--:d="<"+j.tag+">"+d)}d+=c(b)}return d},c=function(a){var b=a.lastIndexOf("<"),c=a.lastIndexOf(">");if(b>c&&(a=a.slice(b),"<"!=a)){var d=a.indexOf(" ");return 0>d&&(d=a.indexOf("	")),0>d&&(d=a.indexOf("\n")),0>d&&(d=a.length),a.slice(0,d)}return""}}(),CodeMirror.tagRangeFinder=function(a,b,c){for(var d="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",e=d+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",f=RegExp("^["+d+"]["+e+"]*"),g=a.getLine(b),h=!1,i=null,j=0;!h;){if(j=g.indexOf("<",j),-1==j)return;if(g.length>j+1&&"/"==g[j+1])j++;else if(g.substr(j+1).match(f)){var k=g.indexOf(">",j+1);if(-1==k){for(var l=b+1,m=!1,n=a.lineCount();n>l&&!m;){var o=a.getLine(l),p=o.indexOf(">");if(-1!=p){m=!0;var q=o.lastIndexOf("/",p);if(-1!=q&&p>q){var r=g.substr(q,p-q+1);if(!r.match(/\/\s*\>/))return c===!0&&l++,l}}l++}h=!0}else{var s=g.lastIndexOf("/",k);if(-1==s)h=!0;else{var r=g.substr(s,k-s+1);r.match(/\/\s*\>/)||(h=!0)}}if(h){var t=g.substr(j+1);i=t.match(f),i?(i=i[0],-1!=g.indexOf("</"+i+">",j)&&(h=!1)):h=!1}h||j++}else j++}if(h)for(var u="(\\<\\/"+i+"\\>)|(\\<"+i+"\\>)|(\\<"+i+"\\s)|(\\<"+i+"$)",v=RegExp(u,"g"),w="</"+i+">",x=1,l=b+1,n=a.lineCount();n>l;){g=a.getLine(l);var y=g.match(v);if(y)for(var z=0;y.length>z;z++)if(y[z]==w?x--:x++,!x)return c===!0&&l++,l;l++}else;},CodeMirror.braceRangeFinder=function(a,b,c){for(var f,g,d=a.getLine(b),e=d.length;;){var h=d.lastIndexOf("{",e);if(0>h)break;if(g=a.getTokenAt({line:b,ch:h}).className,!/^(comment|string)/.test(g)){f=h;break}e=h-1}if(!(null==f||d.lastIndexOf("}")>f)){var k,i=1,j=a.lineCount();a:for(var l=b+1;j>l;++l)for(var m=a.getLine(l),n=0;;){var o=m.indexOf("{",n),p=m.indexOf("}",n);if(0>o&&(o=m.length),0>p&&(p=m.length),n=Math.min(o,p),n==m.length)break;if(a.getTokenAt({line:l,ch:n+1}).className==g)if(n==o)++i;else if(!--i){k=l;break a}++n}if(null!=k&&k!=b+1)return c===!0&&k++,k}},CodeMirror.indentRangeFinder=function(a,b){for(var e,c=a.getOption("tabSize"),d=a.getLineHandle(b).indentation(c),f=b+1,g=a.lineCount();g>f;++f){var h=a.getLineHandle(f);if(!/^\s*$/.test(h.text)){if(d>=h.indentation(c))break;e=f}}return e?e+1:null},CodeMirror.newFoldFunction=function(a,b,c){function e(a,b){for(var c=0;d.length>c;++c){var e=a.lineInfo(d[c].start);if(e){if(e.line==b)return{pos:c,region:d[c]}}else d.splice(c--,1)}}function f(a,b){a.clearMarker(b.start);for(var c=0;b.hidden.length>c;++c)a.showLine(b.hidden[c])}var d=[];return null==b&&(b='<div style="position: absolute; left: 2px; color:#600">&#x25bc;</div>%N%'),function(g,h){g.operation(function(){var i=e(g,h);if(i)d.splice(i.pos,1),f(g,i.region);else{var j=a(g,h,c);if(null==j)return;for(var k=[],l=h+1;j>l;++l){var m=g.hideLine(l);m&&k.push(m)}var n=g.setMarker(h,b),o={start:n,hidden:k};g.onDeleteLine(n,function(){f(g,o)}),d.push(o)}})}},function(){function a(a,b){var c=a.getWrapperElement(),d=c.insertBefore(document.createElement("div"),c.firstChild);return d.className="CodeMirror-dialog",d.innerHTML="<div>"+b+"</div>",d}CodeMirror.defineExtension("openDialog",function(b,c){function g(){e||(e=!0,d.parentNode.removeChild(d))}var i,d=a(this,b),e=!1,f=this,h=d.getElementsByTagName("input")[0];return h?(CodeMirror.connect(h,"keydown",function(a){(13==a.keyCode||27==a.keyCode)&&(CodeMirror.e_stop(a),g(),f.focus(),13==a.keyCode&&c(h.value))}),h.focus(),CodeMirror.connect(h,"blur",g)):(i=d.getElementsByTagName("button")[0])&&(CodeMirror.connect(i,"click",function(){g(),f.focus()}),i.focus(),CodeMirror.connect(i,"blur",g)),g}),CodeMirror.defineExtension("openConfirm",function(b,c){function i(){f||(f=!0,d.parentNode.removeChild(d),g.focus())}var d=a(this,b),e=d.getElementsByTagName("button"),f=!1,g=this,h=1;e[0].focus();for(var j=0;e.length>j;++j){var k=e[j];(function(a){CodeMirror.connect(k,"click",function(b){CodeMirror.e_preventDefault(b),i(),a&&a(g)})})(c[j]),CodeMirror.connect(k,"blur",function(){--h,setTimeout(function(){0>=h&&i()},200)}),CodeMirror.connect(k,"focus",function(){++h})}})}(),function(){function a(){this.posFrom=this.posTo=this.query=null,this.marked=[]}function b(b){return b._searchState||(b._searchState=new a)}function c(a,b,c){return a.getSearchCursor(b,c,"string"==typeof b&&b==b.toLowerCase())}function d(a,b,c,d){a.openDialog?a.openDialog(b,d):d(prompt(c,""))}function e(a,b,c,d){a.openConfirm?a.openConfirm(b,d):confirm(c)&&d[0]()}function f(a){var b=a.match(/^\/(.*)\/([a-z]*)$/);return b?RegExp(b[1],-1==b[2].indexOf("i")?"":"i"):a}function h(a,e){var h=b(a);return h.query?i(a,e):(d(a,g,"Search for:",function(b){a.operation(function(){if(b&&!h.query){if(h.query=f(b),2e3>a.lineCount())for(var d=c(a,h.query);d.findNext();)h.marked.push(a.markText(d.from(),d.to(),"CodeMirror-searching"));h.posFrom=h.posTo=a.getCursor(),i(a,e)}})}),void 0)}function i(a,d){a.operation(function(){var e=b(a),f=c(a,e.query,d?e.posFrom:e.posTo);(f.find(d)||(f=c(a,e.query,d?{line:a.lineCount()-1}:{line:0,ch:0}),f.find(d)))&&(a.setSelection(f.from(),f.to()),e.posFrom=f.from(),e.posTo=f.to())})}function j(a){a.operation(function(){var c=b(a);if(c.query){c.query=null;for(var d=0;c.marked.length>d;++d)c.marked[d].clear();c.marked.length=0}})}function n(a,b){d(a,k,"Replace:",function(g){g&&(g=f(g),d(a,l,"Replace with:",function(d){function h(){var d,b=f.from();!(d=f.findNext())&&(f=c(a,g),!(d=f.findNext())||b&&f.from().line==b.line&&f.from().ch==b.ch)||(a.setSelection(f.from(),f.to()),e(a,m,"Replace?",[function(){i(d)},h]))}function i(a){f.replace("string"==typeof g?d:d.replace(/\$(\d)/,function(b,c){return a[c]})),h()}if(b)a.compoundChange(function(){a.operation(function(){for(var b=c(a,g);b.findNext();)if("string"!=typeof g){var e=a.getRange(b.from(),b.to()).match(g);b.replace(d.replace(/\$(\d)/,function(a,b){return e[b]}))}else b.replace(d)})});else{j(a);var f=c(a,g,a.getCursor());h()}}))})}var g='Search: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',k='Replace: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',l='With: <input type="text" style="width: 10em"/>',m="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(a){j(a),h(a)},CodeMirror.commands.findNext=h,CodeMirror.commands.findPrev=function(a){h(a,!0)},CodeMirror.commands.clearSearch=j,CodeMirror.commands.replace=n,CodeMirror.commands.replaceAll=function(a){n(a,!0)}}(),function(){function a(a,b,c,d){if(this.atOccurrence=!1,this.cm=a,null==d&&"string"==typeof b&&(d=!1),c=c?a.clipPos(c):{line:0,ch:0},this.pos={from:c,to:c},"string"!=typeof b)b.global||(b=RegExp(b.source,b.ignoreCase?"ig":"g")),this.matches=function(c,d){if(c){b.lastIndex=0;for(var e=a.getLine(d.line).slice(0,d.ch),f=b.exec(e),g=0;f;){g+=f.index+1,e=e.slice(g),b.lastIndex=0;var h=b.exec(e);if(!h)break;f=h}g--}else{b.lastIndex=d.ch;var e=a.getLine(d.line),f=b.exec(e),g=f&&f.index}return f?{from:{line:d.line,ch:g},to:{line:d.line,ch:g+f[0].length},match:f}:void 0};else{d&&(b=b.toLowerCase());var e=d?function(a){return a.toLowerCase()}:function(a){return a},f=b.split("\n");this.matches=1==f.length?function(c,d){var h,f=e(a.getLine(d.line)),g=b.length;return(c?d.ch>=g&&-1!=(h=f.lastIndexOf(b,d.ch-g)):-1!=(h=f.indexOf(b,d.ch)))?{from:{line:d.line,ch:h},to:{line:d.line,ch:h+g}}:void 0}:function(b,c){var d=c.line,g=b?f.length-1:0,h=f[g],i=e(a.getLine(d)),j=b?i.indexOf(h)+h.length:i.lastIndexOf(h);if(!(b?j>=c.ch||j!=h.length:c.ch>=j||j!=i.length-h.length))for(;;){if(b?!d:d==a.lineCount()-1)return;if(i=e(a.getLine(d+=b?-1:1)),h=f[b?--g:++g],!(g>0&&f.length-1>g)){var k=b?i.lastIndexOf(h):i.indexOf(h)+h.length;if(b?k!=i.length-h.length:k!=h.length)return;var l={line:c.line,ch:j},m={line:d,ch:k};return{from:b?m:l,to:b?l:m}}if(i!=h)return}}}}a.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(a){function d(a){var c={line:a,ch:0};return b.pos={from:c,to:c},b.atOccurrence=!1,!1}for(var b=this,c=this.cm.clipPos(a?this.pos.from:this.pos.to);;){if(this.pos=this.matches(a,c))return this.atOccurrence=!0,this.pos.match||!0;if(a){if(!c.line)return d(0);c={line:c.line-1,ch:this.cm.getLine(c.line-1).length}}else{var e=this.cm.lineCount();if(c.line==e-1)return d(e);c={line:c.line+1,ch:0}}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(a){var b=this;this.atOccurrence&&(b.pos.to=this.cm.replaceRange(a,b.pos.from,b.pos.to))}},CodeMirror.defineExtension("getSearchCursor",function(b,c,d){return new a(this,b,c,d)})}(),function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(a,b){return/^[;{}]$/.test(b)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(a,b,c,d){return this.jsonMode?/^[\[,{]$/.test(b)||/^}/.test(c):";"==b&&d.lexical&&")"==d.lexical.type?!1:/^[;{}]$/.test(b)&&!/^;/.test(c)}}),CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(a,b,c){return"tag"==a&&/>$/.test(b)||/^</.test(c)}}),CodeMirror.defineExtension("commentRange",function(a,b,c){var d=this,e=CodeMirror.innerMode(d.getMode(),d.getTokenAt(b).state).mode;d.operation(function(){if(a)d.replaceRange(e.commentEnd,c),d.replaceRange(e.commentStart,b),b.line==c.line&&b.ch==c.ch&&d.setCursor(b.line,b.ch+e.commentStart.length);else{var f=d.getRange(b,c),g=f.indexOf(e.commentStart),h=f.lastIndexOf(e.commentEnd);g>-1&&h>-1&&h>g&&(f=f.substr(0,g)+f.substring(g+e.commentStart.length,h)+f.substr(h+e.commentEnd.length)),d.replaceRange(f,b,c)}})}),CodeMirror.defineExtension("autoIndentRange",function(a,b){var c=this;this.operation(function(){for(var d=a.line;b.line>=d;d++)c.indentLine(d,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(a,b){function k(){h+="\n",j=!0,++i}for(var c=this,d=c.getMode(),e=c.getRange(a,b).split("\n"),f=CodeMirror.copyState(d,c.getTokenAt(a).state),g=c.getOption("tabSize"),h="",i=0,j=0==a.ch,l=0;e.length>l;++l){for(var m=new CodeMirror.StringStream(e[l],g);!m.eol();){var n=CodeMirror.innerMode(d,f),o=d.token(m,f),p=m.current();m.start=m.pos,(!j||/\S/.test(p))&&(h+=p,j=!1),!j&&n.mode.newlineAfterToken&&n.mode.newlineAfterToken(o,p,m.string.slice(m.pos)||e[l+1]||"",n.state)&&k()}!m.pos&&d.blankLine&&d.blankLine(f),j||k()}c.operation(function(){c.replaceRange(h,a,b);for(var d=a.line+1,e=a.line+i;e>=d;++d)c.indentLine(d,"smart");c.setSelection(a,c.getCursor(!1))})})}(),function(){function b(){this.marked=[]}function c(a){return a._matchHighlightState||(a._matchHighlightState=new b)}function d(a){for(var b=c(a),d=0;b.marked.length>d;++d)b.marked[d].clear();b.marked=[]}function e(b,e,f){if(d(b),f=f!==void 0?f:a,b.somethingSelected()&&b.getSelection().replace(/^\s+|\s+$/g,"").length>=f){var g=c(b),h=b.getSelection();b.operation(function(){if(2e3>b.lineCount())for(var a=b.getSearchCursor(h);a.findNext();)(a.from().line!==b.getCursor(!0).line||a.from().ch!==b.getCursor(!0).ch)&&g.marked.push(b.markText(a.from(),a.to(),e))})}}var a=2;CodeMirror.defineExtension("matchHighlight",function(a,b){e(this,a,b)})}(),function(){function a(a,b){var c=CodeMirror.innerMode(a.getMode(),b);return"xml"==c.mode.name?c.state:void 0}function b(a,b,d,e){c(a,b,e)?(a.replaceSelection("\n\n</"+e+">","end"),a.indentLine(d.line+1),a.indentLine(d.line+2),a.setCursor({line:d.line+1,ch:a.getLine(d.line+1).length})):(a.replaceSelection("</"+e+">"),a.setCursor(d))}function c(a,b,c){return(b===void 0||null==b||1==b)&&(b=a.getOption("closeTagIndent")),b||(b=[]),-1!=e(b,c.toLowerCase())}function d(a,b,c){return"xml"==a.getOption("mode")?!0:((b===void 0||null==b)&&(b=a.getOption("closeTagVoid")),b||(b=[]),-1==e(b,c.toLowerCase()))}function e(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;++c)if(a[c]==b)return c;return-1}function f(a,b,c){a.replaceSelection("/"+c+">"),a.setCursor({line:b.line,ch:b.ch+c.length+2})}CodeMirror.defaults.closeTagEnabled=!0,CodeMirror.defaults.closeTagIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"],CodeMirror.defaults.closeTagVoid=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],CodeMirror.defineExtension("closeTag",function(c,e,g,h){if(!c.getOption("closeTagEnabled"))throw CodeMirror.Pass;var i=c.getCursor(),j=c.getTokenAt(i),k=a(c,j.state);if(k)if(">"==e){var l=k.type;if("tag"==j.className&&"closeTag"==l)throw CodeMirror.Pass;if(c.replaceSelection(">"),i={line:i.line,ch:i.ch+1},c.setCursor(i),j=c.getTokenAt(c.getCursor()),k=a(c,j.state),!k)throw CodeMirror.Pass;var l=k.type;if("tag"==j.className&&"selfcloseTag"!=l){var m=k.tagName;return m.length>0&&d(c,h,m)&&b(c,g,i,m),void 0}c.setSelection({line:i.line,ch:i.ch-1},i),c.replaceSelection("")}else if("/"==e&&"tag"==j.className&&"<"==j.string){var n=k.context,m=n?n.tagName:"";if(m.length>0)return f(c,i,m),void 0}throw CodeMirror.Pass})}(),function(){function b(a,b){var c=b;return function(){0==--c&&a()}}function c(a,c){var d=CodeMirror.modes[a].dependencies;if(!d)return c();for(var e=[],f=0;d.length>f;++f)CodeMirror.modes.hasOwnProperty(d[f])||e.push(d[f]);if(!e.length)return c();for(var g=b(c,e.length),f=0;e.length>f;++f)CodeMirror.requireMode(e[f],g)}CodeMirror.modeURL||(CodeMirror.modeURL="../mode/%N/%N.js");var a={};CodeMirror.requireMode=function(b,d){if("string"!=typeof b&&(b=b.name),CodeMirror.modes.hasOwnProperty(b))return c(b,d);if(a.hasOwnProperty(b))return a[b].push(d);var e=document.createElement("script");e.src=CodeMirror.modeURL.replace(/%N/g,b);var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f);var g=a[b]=[d],h=0,i=setInterval(function(){return++h>100?clearInterval(i):(CodeMirror.modes.hasOwnProperty(b)&&(clearInterval(i),a[b]=null,c(b,function(){for(var a=0;g.length>a;++a)g[a]()})),void 0)},200)},CodeMirror.autoLoadMode=function(a,b){CodeMirror.modes.hasOwnProperty(b)||CodeMirror.requireMode(b,function(){a.setOption("mode",a.getOption("mode"))})}}(),function(){function b(b){a.push(b),a.length>50&&a.shift()}function c(){return a[a.length-1]||""}function d(){return a.length>1&&a.pop(),c()}var a=[];CodeMirror.keyMap.emacs={"Ctrl-X":function(a){a.setOption("keyMap","emacs-Ctrl-X")},"Ctrl-W":function(a){b(a.getSelection()),a.replaceSelection("")},"Ctrl-Alt-W":function(a){b(a.getSelection()),a.replaceSelection("")},"Alt-W":function(a){b(a.getSelection())},"Ctrl-Y":function(a){a.replaceSelection(c())},"Alt-Y":function(a){a.replaceSelection(d())},"Ctrl-/":"undo","Shift-Ctrl--":"undo","Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findNext","Ctrl-R":"findPrev","Ctrl-G":"clearSearch","Shift-Alt-5":"replace","Ctrl-Z":"undo","Cmd-Z":"undo","Alt-/":"autocomplete","Alt-V":"goPageUp","Ctrl-J":"newlineAndIndent",Enter:!1,Tab:"indentAuto",fallthrough:["basic","emacsy"]},CodeMirror.keyMap["emacs-Ctrl-X"]={"Ctrl-S":"save","Ctrl-W":"save",S:"saveAll",F:"open",U:"undo",K:"close",auto:"emacs",nofallthrough:!0}}(),function(){"use strict";var a=[{keys:["Left"],type:"keyToKey",toKeys:["h"]},{keys:["Right"],type:"keyToKey",toKeys:["l"]},{keys:["Up"],type:"keyToKey",toKeys:["k"]},{keys:["Down"],type:"keyToKey",toKeys:["j"]},{keys:["Space"],type:"keyToKey",toKeys:["l"]},{keys:["Backspace"],type:"keyToKey",toKeys:["h"]},{keys:["Ctrl-Space"],type:"keyToKey",toKeys:["W"]},{keys:["Ctrl-Backspace"],type:"keyToKey",toKeys:["B"]},{keys:["Shift-Space"],type:"keyToKey",toKeys:["w"]},{keys:["Shift-Backspace"],type:"keyToKey",toKeys:["b"]},{keys:["Ctrl-n"],type:"keyToKey",toKeys:["j"]},{keys:["Ctrl-p"],type:"keyToKey",toKeys:["k"]},{keys:["Ctrl-["],type:"keyToKey",toKeys:["Esc"]},{keys:["Ctrl-c"],type:"keyToKey",toKeys:["Esc"]},{keys:["s"],type:"keyToKey",toKeys:["c","l"]},{keys:["S"],type:"keyToKey",toKeys:["c","c"]},{keys:["Home"],type:"keyToKey",toKeys:["0"]},{keys:["End"],type:"keyToKey",toKeys:["$"]},{keys:["PageUp"],type:"keyToKey",toKeys:["Ctrl-b"]},{keys:["PageDown"],type:"keyToKey",toKeys:["Ctrl-f"]},{keys:["h"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:["l"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["j"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:["k"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:["w"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:["W"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:["e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:["E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["b"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:["B"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:["g","e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:["g","E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["Ctrl-f"],type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:["Ctrl-b"],type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:["g","g"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:["G"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:["0"],type:"motion",motion:"moveToStartOfLine"},{keys:["^"],type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["$"],type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:["%"],type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0}},{keys:["f","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["F","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:["t","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["T","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:["'","character"],type:"motion",motion:"goToMark"},{keys:["`","character"],type:"motion",motion:"goToMark"},{keys:["|"],type:"motion",motion:"moveToColumn",motionArgs:{}},{keys:["d"],type:"operator",operator:"delete"},{keys:["y"],type:"operator",operator:"yank"},{keys:["c"],type:"operator",operator:"change",operatorArgs:{enterInsertMode:!0}},{keys:[">"],type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:["<"],type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:["g","~"],type:"operator",operator:"swapcase"},{keys:["n"],type:"motion",motion:"findNext"},{keys:["N"],type:"motion",motion:"findPrev"},{keys:["x"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:["X"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:["D"],type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["Y"],type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["C"],type:"operatorMotion",operator:"change",operatorArgs:{enterInsertMode:!0},motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["~"],type:"operatorMotion",operator:"swapcase",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["a"],type:"action",action:"enterInsertMode",actionArgs:{insertAt:"charAfter"}},{keys:["A"],type:"action",action:"enterInsertMode",actionArgs:{insertAt:"eol"}},{keys:["i"],type:"action",action:"enterInsertMode"},{keys:["I"],type:"action",action:"enterInsertMode",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["o"],type:"action",action:"newLineAndEnterInsertMode",actionArgs:{after:!0}},{keys:["O"],type:"action",action:"newLineAndEnterInsertMode",actionArgs:{after:!1}},{keys:["v"],type:"action",action:"toggleVisualMode"},{keys:["V"],type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:["J"],type:"action",action:"joinLines"},{keys:["p"],type:"action",action:"paste",actionArgs:{after:!0}},{keys:["P"],type:"action",action:"paste",actionArgs:{after:!1}},{keys:["r","character"],type:"action",action:"replace"},{keys:["u"],type:"action",action:"undo"},{keys:["Ctrl-r"],type:"action",action:"redo"},{keys:["m","character"],type:"action",action:"setMark"},{keys:['"',"character"],type:"action",action:"setRegister"},{keys:[",","/"],type:"action",action:"clearSearch"},{keys:["a","character"],type:"motion",motion:"textObjectManipulation"},{keys:["i","character"],type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:["/"],type:"search",searchArgs:{forward:!0,querySrc:"prompt"}},{keys:["?"],type:"search",searchArgs:{forward:!1,querySrc:"prompt"}},{keys:["*"],type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor"}},{keys:["#"],type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor"}}],b=function(){function h(a,b){for(var c=[],d=a;a+b>d;d++)c.push(String.fromCharCode(d));return c}function r(a,b){return b>=0&&a.lineCount()>b}function t(a){return-1!="()[]{}".indexOf(a)}function u(a){return d.test(a)}function v(a){return/^[A-Z]$/.test(a)}function y(a){return/^\s*$/.test(a)}function z(a,b,c){return a>=b&&c>=a}function A(a,b){for(var c=0;b.length>c;c++)if(b[c]==a)return!0;return!1}function B(a){return a.vimState||(a.vimState={inputState:new D,lastHPos:-1,lastMotion:null,marks:{},registerController:new F({}),visualMode:!1,visualLine:!1}),a.vimState}function D(){this.reset()}function E(a,b){this.clear(),a&&this.set(a,b)}function F(a){this.registers=a,this.unamedRegister=a['"']=new E}function L(a,b){var c=Math.min(Math.max(0,b.line),a.lineCount()-1),d=Math.min(Math.max(0,b.ch),W(a,c)-1);return{line:c,ch:d}}function N(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function O(a,b,c){return{line:a.line+b,ch:a.ch+c}}function Q(a,b){for(var c=0;a.length>c;c++)if(a[c]!=b[c]&&"character"!=b[c])return!1;return!0}function S(a,b,c){return function(){for(var d=0;c>d;d++)b(a)}}function T(a){return{line:a.line,ch:a.ch}}function U(a,b){return a.ch==b.ch&&a.line==b.line}function V(a,b){return a.line<b.line?!0:a.line==b.line&&a.ch<b.ch?!0:!1}function W(a,b){return a.getLine(b).length}function X(a){return a.split("").reverse().join("")}function Z(a,b){b.visualMode=!1,b.visualLine=!1;var c=a.getCursor("anchor"),d=a.getCursor("head");U(c,d)||a.setCursor(d)}function $(a,b,c){var d=a.getRange(b,c),e=d.split("\n");e.length>1&&y(e.pop())&&(c.line--,c.ch=W(a,c.line))}function _(a,b,c){b.ch=0,c.ch=0,c.line++}function ab(a){var b=a.search(/\S/);return-1==b?a.length:b}function bb(a,b,c,d,e){var j,f=a.getCursor(),g=a.getLine(f.line),h=f.ch,i=g.substring(h);if(j=e?i.search(/\w/):i.search(/\S/),-1==j)return null;h+=j,i=g.substring(h);var l,k=g.substring(0,h);l=d?/^\S+/:/\w/.test(g.charAt(h))?/^\w+/:/^[^\w\s]+/;var m=l.exec(i),n=h,o=h+m[0].length-1,p=l.exec(X(k));return p&&(n-=p[0].length),b&&o++,{start:{line:f.line,ch:n},end:{line:f.line,ch:o}}}function cb(a,b,c,d){for(var e=b.line,h=b.ch,i=a.getLine(e),j=c?1:-1,k=d?g:f;;){for(var l=j>0?i.length:-1,m=l,n=l;h!=l;){for(var o=!1,p=0;k.length>p&&!o;++p)if(k[p].test(i.charAt(h))){for(m=h;h!=l&&k[p].test(i.charAt(h));)h+=j;if(n=h,o=m!=n,m==b.ch&&e==b.line&&n==m+j)continue;return{from:Math.min(m,n+1),to:Math.max(m,n),line:e}}o||(h+=j)}if(e+=j,!r(a,e))return null;i=a.getLine(e),h=j>0?0:i.length}throw"The impossible happened."}function db(a,b,c,d,e){for(var f=a.getCursor(),g=0;b>g;g++)for(var j,i=(f.ch,f.line),k=!1;!k;){if(j=cb(a,f,c,e),k=!0,!j)return c?{line:f.line,ch:W(a,f.line)}:{line:f.line,ch:0};f.line=j.line,c&&d?f.ch=j.to-1:c&&!d?z(f.ch,j.from,j.to)&&j.line==i?(k=!1,f.ch=j.to-1):f.ch=j.from:!c&&d?z(f.ch,j.from,j.to)&&j.line==i?(k=!1,f.ch=j.from):f.ch=j.to:c||d||(f.ch=j.from)}return f}function eb(a,b,c,d){for(var g,e=a.getCursor(),f=e.ch,h=0;b>h;h++){var i=a.getLine(e.line);if(g=gb(f,i,d,c,!0),-1==g)return e;f=g}return{line:a.getCursor().line,ch:g}}function fb(a,b){var c=a.getCursor().line;return L(a,{line:c,ch:b-1})}function gb(a,b,c,d,e){var f;return d?(f=b.indexOf(c,a+1),-1==f||e||(f-=1)):(f=b.lastIndexOf(c,a-1),-1==f||e||(f+=1)),f}function hb(a,b,c){var d=b.line;c=c?c:a.getLine(d).charAt(b.ch),A(c,["(","[","{"]);var f={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"}[c];if(!f)return b;for(var g={"(":1,"{":1,"[":1}[c]||-1,h=1,i=c,j=b.ch,k=a.getLine(d);i&&h>0;)j+=g,i=k.charAt(j),i||(d+=g,j=0,k=a.getLine(d)||"",i=k.charAt(j)),i===c?h++:i===f&&h--;return i?{line:d,ch:j}:b}function ib(a,b,c){var d=a.getCursor(),e=hb(a,d,b),f=hb(a,e);return f.ch+=c?1:0,e.ch+=c?0:1,{start:f,end:e}}function kb(a,b,c){var g,h,i,j,d=a.getCursor(),e=a.getLine(d.line),f=e.split(""),k=f.indexOf(b);if(k>d.ch?d.ch=k:d.ch>k&&f[d.ch]==b&&(h=d.ch,--d.ch),f[d.ch]!=b||h)for(i=d.ch;i>-1&&!g;i--)f[i]==b&&(g=i+1);else g=d.ch+1;if(g&&!h)for(i=g,j=f.length;j>i&&!h;i++)f[i]==b&&(h=i);return g&&h?(c&&(--g,++h),{start:{line:d.line,ch:g},end:{line:d.line,ch:h}}):{start:d,end:d}}function lb(){this.query=null,this.marked=[],this.reversed=!1}function mb(a){var b=B(a);return b._searchState||(b._searchState=new lb)}function nb(a,b,c,d){a.openDialog?a.openDialog(b,d):d(prompt(c,""))}function ob(a,b){var e,c=b.match(/^(.*)\/(.*)$/),d=!1;c?(d=-1!=c[2].indexOf("i"),e=c[1]):e=b,d=d||/^[^A-Z]*$/.test(e);try{var f=RegExp(e,d?"i":void 0);return f}catch(g){pb(a,"Invalid regex: "+e)}}function pb(a,b){a.openConfirm?a.openConfirm('<span style="color: red">'+b+'</span> <button type="button">OK</button>',function(){}):alert(b)}function qb(a,b){var c="";return a&&(c+=a),c+='<input type="text" style="width: 20em"/> <span style="color: #888">',b&&(c+='<span style="color: #888">',c+=b,c+="</span>"),c}function sb(a,b,c,d){var e=(c||"")+" "+(d||"");nb(a,qb(c,d),e,b)}function tb(a,b){if(a instanceof RegExp&&b instanceof RegExp){for(var c=["global","multiline","ignoreCase","source"],d=0;c.length>d;d++){var e=c[d];if(a[e]!==b[e])return!1}return!0}return!1}function ub(a,b){a.operation(function(){var c=mb(a);if(b){var d=ob(a,b);if(!tb(d,c.query)&&(wb(a),c.query=d,c.query&&2e3>a.lineCount()))for(var e=a.getSearchCursor(c.query);e.findNext();)c.marked.push(a.markText(e.from(),e.to(),"CodeMirror-searching"))}})}function vb(a,b,c){return a.operation(function(){var d=mb(a);if(d.query){var e=a.getCursor();b=d.reversed?!b:b,b||(e.ch+=1);for(var f=a.getSearchCursor(d.query,e),g=0;c>g;g++)if(!f.find(b)&&(f=a.getSearchCursor(d.query,b?{line:a.lineCount()-1}:{line:0,ch:0}),!f.find(b)))return;return f.from()}})}function wb(a){a.operation(function(){var b=mb(a);if(b.query){b.query=null;for(var c=0;b.marked.length>c;++c)b.marked[c].clear();b.marked.length=0}})}function xb(){function a(a,b,d){v(b)&&("Shift"==d?d=null:b=b.toLowerCase()),d&&(b=d+"-"+b),c.handleKey(a,b)}function b(b,c){return function(d){a(d,b,c)}}function f(a,c){for(var d=0;a.length>d;d++){var f=a[d];!c&&A(f,m)&&(f="'"+f+"'"),c?e[c+"-"+f]=b(a[d],c):e[f]=b(a[d])}}var e={nofallthrough:!0,style:"fat-cursor"};return f(i),f(i,"Shift"),f(i,"Ctrl"),f(m),f(m,"Ctrl"),f(k),f(k,"Ctrl"),f(n),f(n,"Ctrl"),e}function yb(a){a.setCursor(a.getCursor().line,a.getCursor().ch-1,!0),a.setOption("keyMap","vim")}var d=/[\d]/,f=[/\w/,/[^\w\s]/],g=[/\S/],i=h(65,26),j=h(97,26),k=h(48,10),l="~`!@#$%^&*()_-+=[{}]\\|/?.,<>:;\"'",m=l.split(""),n=["Left","Right","Up","Down","Space","Backspace","Esc","Home","End","PageUp","PageDown"],o=i.concat(j).concat(k),p=i.concat(j).concat(k).concat('-"'.split("")),C={addKeyMap:function(){},buildKeyMap:function(){},maybeInitState:function(a){B(a)
},handleKey:function(b,c){var d,e=B(b);if("Esc"==c)return e.inputState.reset(),e.visualMode&&Z(b,e),void 0;if(e.visualMode&&U(b.getCursor("head"),b.getCursor("anchor"))&&Z(b,e),("0"!=c||"0"==c&&0===e.inputState.getRepeat())&&(d=G.matchCommand(c,a,e)),!d)return u(c)&&e.inputState.pushRepeatDigit(c),void 0;if("keyToKey"==d.type)for(var f=0;d.toKeys.length>f;f++)this.handleKey(b,d.toKeys[f]);else G.processCommand(b,e,d)}};D.prototype.reset=function(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null},D.prototype.pushRepeatDigit=function(a){this.operator?this.motionRepeat=this.motionRepeat.concat(a):this.prefixRepeat=this.prefixRepeat.concat(a)},D.prototype.getRepeat=function(){var a=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(a=1,this.prefixRepeat.length>0&&(a*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(a*=parseInt(this.motionRepeat.join(""),10))),a},E.prototype={set:function(a,b){this.text=a,this.linewise=!!b},append:function(a,b){b||this.linewise?(this.text+="\n"+a,this.linewise=!0):this.text+=a},clear:function(){this.text="",this.linewise=!1},toString:function(){return this.text}},F.prototype={pushText:function(a,b,c,d){var e=this.isValidRegister(a)?this.getRegister(a):null;if(!e){switch(b){case"yank":this.registers["0"]=new E(c,d);break;case"delete":case"change":-1==c.indexOf("\n")?this.registers["-"]=new E(c,d):(this._shiftNumericRegisters(),this.registers["1"]=new E(c,d))}return this.unamedRegister.set(c,d),void 0}var f=v(a);f?(e.append(c,d),this.unamedRegister.append(c,d)):(e.set(c,d),this.unamedRegister.set(c,d))},getRegister:function(a){return this.isValidRegister(a)?(a=a.toLowerCase(),this.registers[a]||(this.registers[a]=new E),this.registers[a]):this.unamedRegister},isValidRegister:function(a){return a&&A(a,p)},_shiftNumericRegisters:function(){for(var a=9;a>=2;a--)this.registers[a]=this.getRegister(""+(a-1))}};var G={matchCommand:function(a,b,c){for(var d=c.inputState,e=d.keyBuffer.concat(a),f=0;b.length>f;f++){var g=b[f];if(Q(e,g.keys)){if(e.length<g.keys.length)return d.keyBuffer.push(a),null;if(d.operator&&"action"==g.type)continue;return"character"==g.keys[e.length-1]&&(d.selectedCharacter=e[e.length-1]),d.keyBuffer=[],g}}return d.keyBuffer=[],null},processCommand:function(a,b,c){switch(c.type){case"motion":this.processMotion(a,b,c);break;case"operator":this.processOperator(a,b,c);break;case"operatorMotion":this.processOperatorMotion(a,b,c);break;case"action":this.processAction(a,b,c);break;case"search":this.processSearch(a,b,c);break;default:}},processMotion:function(a,b,c){b.inputState.motion=c.motion,b.inputState.motionArgs=N(c.motionArgs),this.evalInput(a,b)},processOperator:function(a,b,c){var d=b.inputState;if(d.operator){if(d.operator==c.operator)return d.motion="expandToLine",d.motionArgs={linewise:!0},this.evalInput(a,b),void 0;d.reset()}d.operator=c.operator,d.operatorArgs=N(c.operatorArgs),b.visualMode&&this.evalInput(a,b)},processOperatorMotion:function(a,b,c){var d=b.visualMode,e=N(c.operatorMotionArgs);e&&d&&e.visualLine&&(b.visualLine=!0),this.processOperator(a,b,c),d||this.processMotion(a,b,c)},processAction:function(a,b,c){var d=b.inputState,e=d.getRepeat(),f=!!e,g=N(c.actionArgs)||{};d.selectedCharacter&&(g.selectedCharacter=d.selectedCharacter),c.operator&&this.processOperator(a,b,c),c.motion&&this.processMotion(a,b,c),(c.motion||c.operator)&&this.evalInput(a,b),g.repeat=e||1,g.repeatIsExplicit=f,g.registerName=d.registerName,d.reset(),b.lastMotion=null,J[c.action](a,g,b)},processSearch:function(a,b,c){function f(c){ub(a,c),G.processMotion(a,b,{type:"motion",motion:"findNext"})}if(a.getSearchCursor){var d=c.searchArgs.forward;mb(a).reversed=!d;var e=d?"/":"?";switch(c.searchArgs.querySrc){case"prompt":sb(a,f,e,rb);break;case"wordUnderCursor":var g=bb(a,!1,!0,!1,!0),h=a.getLine(g.start.line).substring(g.start.ch,g.end.ch+1);h="\\b"+h+"\\b",a.setCursor(g.start),f(h)}}},evalInput:function(a,b){var m,c=b.inputState,d=c.motion,e=c.motionArgs||{},f=c.operator,g=c.operatorArgs||{},h=c.registerName,i=a.getCursor("head"),j=a.getCursor("anchor"),k=T(i),l=T(k),n=c.getRepeat();if(n>0&&e.explicitRepeat?e.repeatIsExplicit=!0:(e.noRepeat||!e.explicitRepeat&&0===n)&&(n=1,e.repeatIsExplicit=!1),c.selectedCharacter&&(e.selectedCharacter=g.selectedCharacter=c.selectedCharacter),e.repeat=n,c.reset(),d){var o=H[d](a,e,b);if(b.lastMotion=H[d],!o)return;o instanceof Array?(k=o[0],m=o[1]):m=o,m||(m={ch:k.ch,line:k.line}),b.visualMode?(V(j,i)&&(U(j,m)||V(m,j))?j.ch+=1:V(i,j)&&(U(j,m)||V(j,m))&&(j.ch-=1),i=m,b.visualLine&&(V(j,i)?(j.ch=0,i.ch=W(a,i.line)):(i.ch=0,j.ch=W(a,j.line))),a.setCursor(j),a.setSelection(j,i)):f||(m=L(a,m),a.setCursor(m.line,m.ch))}if(f){var p=!1;if(b.lastMotion=null,g.repeat=n,b.visualMode&&(k=j,m=i,e.inclusive=!0),V(m,k)){var q=k;k=m,m=q,p=!0}!e.inclusive||b.visualMode&&p||m.ch++;var r=e.linewise||b.visualMode&&b.visualLine;r?_(a,k,m):e.forward&&$(a,k,m),g.registerName=h,g.linewise=r,I[f](a,g,b,k,m,l),b.visualMode&&Z(a,b),g.enterInsertMode&&J.enterInsertMode(a)}}},H={expandToLine:function(a,b){var c=a.getCursor();return{line:c.line+b.repeat-1,ch:1/0}},findNext:function(a,b){return vb(a,!1,b.repeat)},findPrev:function(a,b){return vb(a,!0,b.repeat)},goToMark:function(a,b,c){var d=c.marks[b.selectedCharacter];return d?d.find():null},moveByCharacters:function(a,b){var c=a.getCursor(),d=b.repeat,e=b.forward?c.ch+d:c.ch-d;return{line:c.line,ch:e}},moveByLines:function(a,b,c){var d=a.getCursor().ch;switch(c.lastMotion){case this.moveByLines:case this.moveToColumn:case this.moveToEol:d=c.lastHPos;break;default:c.lastHPos=d}var e=a.getCursor(),f=b.repeat,g=b.forward?e.line+f:e.line-f;return 0>g||g>a.lineCount()-1?null:{line:g,ch:d}},moveByPage:function(a,b){var c=a.getCursor(),d=b.repeat;a.moveV(b.forward?d:-d,"page");var e=a.getCursor();return a.setCursor(c),e},moveByWords:function(a,b){return db(a,b.repeat,!!b.forward,!!b.wordEnd,!!b.bigWord)},moveTillCharacter:function(a,b){var c=b.repeat,d=eb(a,c,b.forward,b.selectedCharacter),e=b.forward?-1:1;return d.ch+=e,d},moveToCharacter:function(a,b){var c=b.repeat;return eb(a,c,b.forward,b.selectedCharacter)},moveToColumn:function(a,b,c){var d=b.repeat;return c.lastHPos=d-1,fb(a,d)},moveToEol:function(a,b,c){var d=a.getCursor();return c.lastHPos=1/0,{line:d.line+b.repeat-1,ch:1/0}},moveToFirstNonWhiteSpaceCharacter:function(a){var b=a.getCursor();return a.getLine(b.line),{line:b.line,ch:ab(a.getLine(b.line))}},moveToMatchedSymbol:function(a,b){var c=a.getCursor(),d=a.getLine(c.line).charAt(c.ch);return t(d)?hb(a,a.getCursor(),b.symbol):c},moveToStartOfLine:function(a){var b=a.getCursor();return{line:b.line,ch:0}},moveToLineOrEdgeOfDocument:function(a,b){var c=b.forward?a.lineCount()-1:0;return b.repeatIsExplicit&&(c=b.repeat-1),{line:c,ch:ab(a.getLine(c))}},textObjectManipulation:function(a,b){var c=b.selectedCharacter,d=!b.textObjectInner;if(!K[c])return null;var e=K[c](a,d),f=e.start,g=e.end;return[f,g]}},I={change:function(a,b,c,d,e){c.registerController.pushText(b.registerName,"change",a.getRange(d,e),b.linewise),b.linewise?(d.ch=ab(a.getLine(d.line)),a.replaceRange("\n",d,e)):a.replaceRange("",d,e),a.setCursor(d)},"delete":function(a,b,c,d,e){c.registerController.pushText(b.registerName,"delete",a.getRange(d,e),b.linewise),a.replaceRange("",d,e),b.linewise?a.setCursor(H.moveToFirstNonWhiteSpaceCharacter(a)):a.setCursor(d)},indent:function(a,b,c,d,e){var f=d.line,g=e.line,h=c.visualMode?b.repeat:1;b.linewise&&g--;for(var i=f;g>=i;i++)for(var j=0;h>j;j++)a.indentLine(i,b.indentRight);a.setCursor(d),a.setCursor(H.moveToFirstNonWhiteSpaceCharacter(a))},swapcase:function(a,b,c,d,e,f){for(var g=a.getRange(d,e),h="",i=0;g.length>i;i++){var j=g.charAt(i);h+=v(j)?j.toLowerCase():j.toUpperCase()}a.replaceRange(h,d,e),a.setCursor(f)},yank:function(a,b,c,d,e,f){c.registerController.pushText(b.registerName,"yank",a.getRange(d,e),b.linewise),a.setCursor(f)}},J={clearSearch:wb,enterInsertMode:function(a,b){var c=b?b.insertAt:null;if("eol"==c){var d=a.getCursor();d={line:d.line,ch:W(a,d.line)},a.setCursor(d)}else"charAfter"==c&&a.setCursor(O(a.getCursor(),0,1));a.setOption("keyMap","vim-insert")},toggleVisualMode:function(a,b,c){var f,d=b.repeat,e=a.getCursor();c.visualLine=!!b.linewise,c.visualMode?Z(a,c):(c.visualMode=!0,c.visualLine?(e.ch=0,f=L(a,{line:e.line+d-1,ch:W(a,e.line)})):f=L(a,{line:e.line,ch:e.ch+d}),b.repeatIsExplicit||c.visualLine?a.setSelection(e,f):(a.setCursor(f),a.setSelection(f,e)))},joinLines:function(a,b,c){var d,e;if(c.visualMode)d=a.getCursor("anchor"),e=a.getCursor("head"),e.ch=W(a,e.line)-1;else{var f=Math.max(b.repeat,2);d=a.getCursor(),e=L(a,{line:d.line+f-1,ch:1/0})}var g=0;a.operation(function(){for(var b=d.line;e.line>b;b++){g=W(a,d.line);var c={line:d.line+1,ch:W(a,d.line+1)},f=a.getRange(d,c);f=f.replace(/\n\s*/g," "),a.replaceRange(f,d,c)}var h={line:d.line,ch:g};a.setCursor(h)})},newLineAndEnterInsertMode:function(a,b){var c=a.getCursor();if(0!==c.line||b.after){c.line=b.after?c.line:c.line-1,c.ch=W(a,c.line),a.setCursor(c);var d=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;d(a)}else a.replaceRange("\n",{line:0,ch:0}),a.setCursor(0,0);this.enterInsertMode(a)},paste:function(a,b,c){var d=a.getCursor(),e=c.registerController.getRegister(b.registerName);if(e.text){for(var f="",g=0;b.repeat>g;g++)f+=e.text;var h=e.linewise;h?b.after?(f="\n"+f.slice(0,f.length-1),d.ch=W(a,d.line)):d.ch=0:d.ch+=b.after?1:0,a.replaceRange(f,d);var i,j;h&&b.after?i={line:d.line+1,ch:ab(a.getLine(d.line+1))}:h&&!b.after?i={line:d.line,ch:ab(a.getLine(d.line))}:!h&&b.after?(j=a.indexFromPos(d),i=a.posFromIndex(j+f.length-1)):(j=a.indexFromPos(d),i=a.posFromIndex(j+f.length)),a.setCursor(i)}},undo:function(a,b){S(a,CodeMirror.commands.undo,b.repeat)()},redo:function(a,b){S(a,CodeMirror.commands.redo,b.repeat)()},setRegister:function(a,b,c){c.inputState.registerName=b.selectedCharacter},setMark:function(a,b,c){var d=b.selectedCharacter;A(d,o)&&(c.marks[d]&&c.marks[d].clear(),c.marks[d]=a.setBookmark(a.getCursor()))},replace:function(a,b){var c=b.selectedCharacter,d=a.getCursor(),e=a.getLine(d.line),f=d.ch+b.repeat;if(!(f>e.length)){for(var g={line:d.line,ch:f},h="",i=0;g.ch-d.ch>i;i++)h+=c;a.replaceRange(h,d,g),a.setCursor(O(g,0,-1))}}},K={w:function(a,b){return bb(a,b,!0,!1)},W:function(a,b){return bb(a,b,!0,!0)},"{":function(a,b){return ib(a,"}",b)},"(":function(a,b){return ib(a,")",b)},"[":function(a,b){return ib(a,"]",b)},"'":function(a,b){return kb(a,"'",b)},'"':function(a,b){return kb(a,'"',b)}},rb="(Javascript regexp)";return CodeMirror.keyMap.vim=xb(),CodeMirror.keyMap["vim-insert"]={Esc:yb,"Ctrl-[":yb,"Ctrl-C":yb,"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(a){var b=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;b(a)},fallthrough:["default"]},C},c=b();CodeMirror.Vim=c}();