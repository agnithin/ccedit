        <div > <!--ng-controller="ProjectCtrl" -->
        <!-- ### PAGE HEADER ### -->
        <div class="navbar navbar-inverse navbar-fixed-top">
          <div class="navbar-inner">
            <div class="container-fluid">
              <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
              <a class="brand" href="#">CC-Edit</a>
              <div class="nav-collapse collapse">
                <ul class="nav">
                  <li class="active"><a href="#">Home</a></li>
                  <li><a href="#download">Download as Zip</a></li>
                  <li><a href="#addCollabModal" data-toggle="modal" ng-click="initializeCollaborators(project)">Add Collaborators</a></li>
                  <li>
                    <form class="navbar-search pull-left">
                      <input type="text" id="file-search" data-provide="typeahead" ng-model="searchProject" class="search-query" placeholder="Search Project Files" ui-reset>
                    </form>
                  </li>
                </ul>            
                <ul class="nav pull-right">
                  <li class="dropdown ">
                    <a href="#" class="navbar-link dropdown-toggle" data-toggle="dropdown">{{currentUser.displayName}} <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      <li><a href="#">Account Info</a></li>
                      <li class="divider"></li>
                      <li><a href="/logout">Logoff</a></li>
                    </ul>
                  </li>
                </ul>
              </div><!--/.nav-collapse -->
            </div>
          </div>
        </div><!-- /PAGE HEADER -->
      
        <!-- ### PAGE BODY ### -->
        <div id="wrap" class="container-fluid">      
          
          <div class="row-fluid">

            <!-- ### FILE LIST ### -->
            <div class="span2">
              <div class="well sidebar-nav">
                <ul id="project-files" class="nav nav-list">
                  <li class="nav-header">
                    Files <button class="close" type="button" ng-click="showAddFile()" rel="tooltip" title="Add a new file">+</button>
                  </li>
                  <!--<li class="active"><a href="#">Sample file</a></li>-->                  
                  <li ng-repeat="file in project.files" class="project-file">
                    <a ng-click="openFile(file.fileId)" >{{file.fileName}}</a>              
                    <button class="close" ng-click="deleteFile(file.fileId, file.fileName)" rel="tooltip" title="Delete file">
                      <i class="icon-trash"></i>
                    </button>                                      
                  </li>

                  <li ng-show="showAddNewFileTextbox" class="new-file-name">
                    <form id="newfileForm" ng-submit="addFile()">
                      <input id="newfileName" placeholder="Specify the filename" ng-model="newFileName" focus-on="showAddNewFileTextbox" required class="input-small-modified">                      
                    </form>
                    <!--<button class="close" ng-click="showAddNewFileTextbox=false"><i class="icon-remove"></i></button>
                    <span class="error" ng-show="newfileForm.input.$error.REQUIRED">Required!</span> -->
                  </li>
                  
                </ul>
              </div><!--/.well -->
            </div><!--/span-->

            <!-- ### CODE AREA ### -->
            <div class="span8" ng-controller="FileCtrl">
              <div class="tabbable"> <!-- Only required for left/right tabs -->
                <ul class="nav nav-tabs">
                  <li ng-repeat="file in openFiles" ng-class="{active: file._id == activeFile._id }"><!--class="active"-->
                    <!-- moved the change tab code from bootstrp to angular js, due to need for getting currently active tab -->
                    <a data-toggle="tab" ng-click="changeActiveFile(file._id)">
                      <span>{{file.name}}</span>
                    </a>
                      <!--<a href="#" class="close" ng-click="closeFile(file._id)">×</a> -->                 
                    <span class="dropdown">
                      |<span class="dropdown-toggle" data-toggle="dropdown">
                        <span class="caret"></span>
                      </span>
                      <ul class="dropdown-menu">
                        <li><a href="" ng-click="closeFile(file._id)">Close</a></li>
                        <li class="divider"></li>
                        <li><a href="" ng-click="backupFile(file._id)">Backup</a></li>
                        <li><a href="#listBackups" data-toggle="modal" ng-click="initializeBackupList(file._id)">Restore</a></li>
                      </ul>
                    </span>                                   

                  </li>
                </ul>
                <div><!-- class="tab-content">  same tab, just contents change-->                  
                  <div class="tab-pane" class="active">                  
                    <div id="code-content" class="hero-unit">
                      <textarea ui-codemirror="{lineNumbers: 'true', mode:'htmlmixed'}" ng-model="activeFile.contents" ng-modal-instant ng-change="sendUpdatedFile()"></textarea>                      
                    </div>
                    <div class="row-fluid">            
                    </div><!--/row-->
                  </div>
                </div>
              </div>

              <!-- ### LIST BACKUPS DIALOG ### -->
              <div id="listBackups" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                  <h3 id="myModalLabel">Backups</h3>
                </div>
                <div class="modal-body">  
                    <table class="table table-hover">
                      <tr>
                        <th>Backup Date</th>
                        <th>Backup created By</th>
                      </tr>
                      <tr ng-repeat="backup in backupList" ng-click="selectBackup(backup)" ng-class="{success: isSelectedBackup(backup)}">
                        <td>{{backup.time}}</td>
                        <td>{{backup.backedupBy}}</td>
                      </tr>
                    </table>
                    <!--<hr>
                    Selected Backup: <span class="pager"><a href="#">{{selectedBackup.time}}</a></span> -->             
                </div>
                <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
                  <button class="btn btn-primary" data-dismiss="modal" ng-disabled="selectedBackup==''" ng-class="{disabled: selectedBackup==''}" ng-click="restoreBackup()">Restore Selected Backup</button>
                </div>
              </div><!-- /LIST BACKUPS DIALOG -->

            </div><!--/CODE AREA-->

            <!-- ### CHAT AREA ### -->
            <div class="span2" id="ccedit-chat" ng-controller="ChatCtrl">
              
              <!-- ### ONLINE USERS ### -->              
              <div class="well sidebar-nav">
                <ul id="online-users" class="nav nav-list">
                  <li class="nav-header">Online Users</li>
                  <li ng-repeat="user in onlineUsers">{{user}}</li>
                </ul>
              </div><!--/ONLINE USERS-->

              <!-- ### CHAT BAR ### -->              
              <div class="well sidebar-nav">
                <ul class="nav nav-list">
                  <li class="nav-header">Chat</li>
                  <li id="messages" ng-repeat="log in chatLog">
                    <b>{{log.username}}:</b> {{log.data}}
                  </li>
                </ul>
                <textarea id="chat-text" rows="4" ng-model='chatText' ui-keypress="{13:'sendChat()'}" class="input-small-modified"></textarea>
                <!-- <input type="button" value="Send" id="send-button" ng-click='sendChat()'> -->              
              </div><!-- /CHAT BAR -->

            </div><!--/CHAT AREA--> 

          </div><!--/row-->      

          </div> <!-- /PAGE BODY -->
        </div>